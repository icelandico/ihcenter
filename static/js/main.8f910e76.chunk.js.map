{"version":3,"sources":["static/icons/events.svg","static/icons/politics.svg","static/icons/person.svg","static/flags/Default.svg","static/icons/current_founder_.svg","static/icons/LOGO_ALT.svg","static/icons/fields.svg","static/icons/current.svg","static/icons/idea.svg","static/icons/influences.svg","static/icons/influenced.svg","static/icons/text.svg","static/icons/wiki.svg","static/icons/date_r.svg","static/icons/date_l.svg","static/icons/icon_born.svg","static/icons sync /^/MODE_.*/.svg$","static/icons/MODE_compare.svg","static/icons/MODE_diagram.svg","static/icons/MODE_list.svg","static/icons/MODE_map.svg","static/icons/MODE_timeline.svg","views/pages/HomePage/home-page-styles.ts","components/Map/utils.ts","store/api/api.ts","store/models/articleDetails.ts","store/models/articleModel.ts","utils/formatDate.ts","store/constants/filters.ts","store/models/filterModel.ts","store/models/article.ts","store/RootStore.ts","styles/colors.ts","components/Marker/marker-styles.ts","utils/articleTypeColor.ts","webpack:///./src/static/icons/person.svg?a8ee","webpack:///./src/static/icons/politics.svg?b0b0","webpack:///./src/static/icons/events.svg?2ae3","webpack:///./src/static/icons/text.svg?045a","utils/chooseIcon.ts","components/Marker/marker.tsx","components/shared/Loader/loader-styles.ts","components/shared/Loader/loader.tsx","components/Map/map.tsx","views/pages/HomePage/home-page.tsx","views/pages/Timeline/timeline-styles.ts","views/pages/Timeline/timeline.tsx","routing/Routes.tsx","static/icons/SEARCH.svg","components/Navbar/navbar-styles.ts","routing/routeConfig.ts","components/Finder/finder-styles.ts","components/shared/SvgIcon/svgicon-styles.ts","components/shared/SvgIcon/svgIcon.tsx","components/Finder/finder.tsx","components/Navbar/navbar.tsx","styles/font.ts","components/DetailPanel/details-info-tab/details-info-tab-styles.ts","components/DetailPanel/details-info-tab/details-info-tab.tsx","webpack:///./src/static/icons/icon_born.svg?5ba5","static/icons/icon_dead.svg","components/DetailPanel/details-list-info/details-list-info-styles.ts","components/DetailPanel/details-info-tab/details-info-tab-specific.tsx","components/shared/ScrollIndicator/scroll-indicator-styles.ts","components/shared/Styles/shared-styled-components.ts","components/shared/ScrollIndicator/scroll-indicator.tsx","utils/scrollableElement.ts","components/DetailPanel/details-list-info/details-list-info.tsx","components/DetailPanel/details-main-info/details-main-info-styles.ts","static/icons/bookmark_off.svg","components/DetailPanel/details-main-info/details-main-info.tsx","components/DetailPanel/index-styles.ts","components/DetailPanel/index.tsx","components/Timeline/index-styles.ts","components/Timeline/timeline-date-picker/timeline-date-picker-styles.ts","components/Timeline/timeline-date-picker/timeline-date-picker.tsx","components/Timeline/timeline-yearline/timeline-yearline-styles.ts","utils/range.ts","components/Timeline/timeline-yearline/timeline-yearline.tsx","components/Timeline/timeline-menu/timeline-menu-styles.ts","static/icons/timeline_cumulative.svg","static/icons/timeline_year.svg","components/Timeline/timeline-menu/timeline-menu.tsx","components/EventCard/event-card-styles.ts","components/EventCard/event-card-line/event-card-line-styles.ts","components/EventCard/event-card-line/event-card-line.tsx","components/EventCard/event-card.tsx","components/Timeline/index.tsx","components/UserBookmarks/index-styles.ts","components/UserBookmarks/user-bookmarks-items/bookmarks-items-styles.ts","utils/renderImage.ts","components/UserBookmarks/user-bookmarks-items/bookmarks-items.tsx","components/UserBookmarks/recently-viewed/recently-viewed.tsx","components/UserBookmarks/index.tsx","components/Filters/filters-styles.ts","components/Filters/filter-box/filter-box-styles.ts","static/icons/flag.svg","webpack:///./src/static/icons/current.svg?0aec","webpack:///./src/static/icons/fields.svg?cd1f","components/Filters/filter-box/filter-box.tsx","components/Filters/filterTab/filter-tab-styles.ts","components/shared/Checkmark/checkmark-styles.ts","components/Filters/filter-checkbox/filter-checkbox-styles.ts","components/Filters/filter-checkbox/filter-checkbox.tsx","components/Filters/filterTab/filter-tab.tsx","components/Filters/filter-box/filterCheckboxSet.ts","components/Filters/filters.tsx","components/Filters/active-filters/active-filters-styles.ts","components/shared/Checkmark/checkmark.tsx","components/Filters/active-filters/active-filters.tsx","views/app-styles.ts","components/Filters/filters-bottom.tsx","views/App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Home","styled","div","mapSettings","coordinates","defaultTile","mainTile","zoom","osmTile","apiUrls","apiEndpoints","getArticles","getProfessions","getMainIdeas","getNationalities","IdeaDetails","types","model","identifierNumber","name","string","wikipediaLink","optional","MainIdeaDetails","description","ImageDetails","url","BaseInfoDetails","type","WritingsDetails","title","publicated","maybeNull","fragments","NationalityDetails","flag","UserBookmark","ArticleModel","number","startDate","endDate","startCoords","image","nationality","identifier","startPlace","EndPlace","precursor","array","ideaPrecursor","professions","ideas","mainideas","writings","influenced","influences","relatedOrg","relatedPerson","relatedEvent","formatDate","date","formattedDate","dateToFormat","matchDate","match","day","month","romanizeMonth","year","getDate","getYear","Date","getFullYear","original","numerals","digits","Math","round","parseInt","toString","split","position","length","reduce","roman","digit","SHOW_ALL","BY_YEAR","CUMULATIVE","filterType","union","literal","FILTERS","article","Filter","state","FiltersSet","time","parameters","Article","ArticleStore","articles","chosenArticle","maybe","reference","currentYear","filter","firstYear","lastYear","userBookmarks","recentlyViewed","activeFilters","actions","self","getAllArticles","flow","fetch","then","response","ok","json","console","log","articlesWithIds","el","sortedArticles","sort","a","b","applySnapshot","getBookmarsFromStore","storeBookmarks","JSON","parse","window","localStorage","getItem","getRecentlyViewedFromStore","recentlyViewedItems","insertInStorage","item","storageItems","newItems","concat","setItem","stringify","toggle","find","this","alert","incrementYear","decrementYear","setYear","setFilter","mode","setYearsRange","articleDates","max","min","setUserBookmarks","newBookmarks","cast","getCurrentState","activeIndex","findIndex","element","removeFilter","index","insertFilter","changeFilterState","updatedFilters","currentFilter","views","currentTimeFilter","currentFilterParams","currentTypeFilterParams","filteredByParams","every","some","filteredByType","rootStore","articleStore","create","colors","white","darkGreen","green","lightBrown","regularRed","lightRed","darkBlue","woodBrown","lightGreen","indianRed","teal","darkYellow","purple","CustomMarker","props","color","CustomPopup","chooseColor","_extends","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","transform","className","x","y","width","height","_ref3","d","cx","cy","r","_ref","svgRef","viewBox","ref","ForwardRef","forwardRef","fill","clipPath","stroke","strokeWidth","_ref4","_ref5","chooseIcon","iconType","PersonIcon","OrganisationIcon","EventIcon","WritingsIcon","inject","observer","store","isActive","markerRef","useRef","useEffect","current","leafletElement","options","leaflet","panTo","openPopup","Marker","icon","L","divIcon","html","ReactDOMServer","renderToString","iconAnchor","iconSize","onClick","Popup","style","background","autoPan","backgroundImage","loaderKeyframes","keyframes","LoaderContainer","regular","LoaderElements","Loader","MapComponent","showMarkers","coords","coordinate","Number","markerCoords","Map","center","TileLayer","attribution","noWrap","filteredStore","React","Component","HomePage","TimelineC","Timeline","Routes","exact","path","component","x1","y1","x2","y2","undefined","NavbarContainer","nav","SearchIconSvg","SearchIcon","NavbarTop","NavbarElement","NavbarSearch","NavbarBottom","NavigationLinks","ul","NavigationItem","li","NavigationIcon","img","NaviLink","NavLink","attrs","activeClassName","NavbarLogo","AppLogo","menuItems","route","FinderInput","input","FinderResultsContainer","FinderContainer","SingleResult","ResultIcon","ResultText","span","ClearInput","SvgContainer","SvgIcon","Icon","useState","finderValue","setFinderValue","results","setResults","resultsVisible","setResultsVisible","activeOption","setActiveOption","resultsRef","handleOutsideClick","ev","contains","document","addEventListener","removeEventListener","setArticle","placeholder","onChange","currentTarget","value","toLowerCase","includes","trim","handleInputChange","onFocus","onKeyDown","keyCode","idx","onMouseEnter","to","src","require","fonts","TabContainer","TabIcon","extend","border","TabExtraIcon","TabContent","font","fontColor","italicFont","iconUrl","content","founder","founderIconUrl","tabId","articleId","children","Default","DetailsTop","column","DetailsTopItem","DetailsContainer","WritingsList","WritingsTitle","WritingsYear","DetailsTitle","articleType","details","getProperFunction","tabInfo","baseInfo","baseInfoDetails","literature","literatureDetails","influencedDetails","influencesDetails","politics","politicsDetails","ideasDetails","mainIdeas","mainIdeasDetails","events","eventsDetails","professionsDetails","relatedPersons","relatedPersonDetails","renderGeneralInfo","Born","marginLeft","Dead","renderTextInfo","specificDetail","detailsList","prev","next","renderWritingsInfo","renderPerson","Events","flagDetails","Person","Fields","mainPrecursor","MainIdeas","FounderIcon","Ideas","Politics","Influences","Influenced","Literature","renderSwitch","getPosition","pos","indicatorKeyframes","Indicator","active","BottomGradient","ScrollIndicator","container","isScrollNeeded","setScrollValue","isScrollable","setScrollable","handleScroll","scrollDiv","result","scrollTop","scrollHeight","clientHeight","offsetHeight","renderTypeDetails","DetailsTopContainer","ElementTitle","h1","ElementDate","p","ElementAgedDate","ElementLink","wikiIcon","MainImage","bookmarkActive","BookmarkContainer","Bookmark","DetailsText","WikiLinkContainer","renderImage","CharacterIcon","PoliticsIcon","isBookmarked","setBookmark","isInStorage","bookmarks","isViewBookmarked","data-is-bookmarked","newCollection","setBookmarkStatus","BookmarkOff","href","rel","start","end","monthDifference","getMonth","floor","calculateAge","DetailsMainContainer","TimelineContainer","TimelineContent","TimelineFrames","TimelineFrame","TimelineFrameLeft","DatePaneLeft","TimelineFrameRight","DatePaneRight","TimelineDateContainer","TimelineDate","TimeArrow","primary","direction","double","timelineData","setValue","yearsSet","setYears","isNotLastYear","isNotFirstYear","calculateFollowingYears","arr","previousYear","yearElem","isData","pop","nextYear","shift","handleChange","maxLength","minLength","TimelineYearlineContainer","translateVal","TimelineDot","isHidden","range","timelineWidth","timelineVal","setTimelineVal","containerRef","previousVal","usePrevious","getDotWidth","initialValue","clientWidth","ceil","abs","difference","handleTimelinePosition","getHideRange","deltaY","dot","TimelineMenuContainer","TimelineMenuOptions","TimelineOption","enableBackground","xmlSpace","switchTimelineType","option","Cumulative","Single","EventCardContainer","opened","EventCardContent","EventCardClose","EventCardOpener","EventCardLineC","EventCardLine","choosePhrase","isOpened","setOpen","yearEvents","setYearEvents","currentYearArticles","getCurrentYearArticles","event","yearsData","setData","setIsData","yearRange","yearsWithData","Array","from","Set","yearsDataArray","yearElement","UserBookmarksContainer","UserBookmarksText","OptionsText","UserRecentlyViewedItems","UserBookmarksItems","bookmarkLoader","UserStorageItem","css","UserBookmarksPlaceholder","areArticlesSet","setBookmarks","bookmarksId","bookmark","values","bookmarkedArticles","itemsThreshold","slice","getArticlesFromBookmarks","renderBookmarksItems","recentItems","setRecentItems","recentViewedItems","recentItem","getArticlesFromRecentlyViewed","renderRecentViewedItems","recentlyViewedRef","maxItems","setMaxItems","offsetWidth","FiltersContainer","marginBottom","SingleFilterBox","FilterContainer","FilterIconBox","FilterCross","FilterLine","StarIcon","_ref6","_ref7","FilterBox","clickHandler","noCross","CurrentIcon","FieldsIcon","WritingIcon","FlagIcon","renderIcon","FilterTabContainer","rotate","Checkbox","scale","CheckboxExcluded","CheckboxIncluded","CheckmarkContainer","CheckboxLabel","label","FilterCheckboxIndicator","FilterCheckboxExcluded","FilterCheckboxIncluded","stateOptions","checkState","getSnapshot","currentState","newState","handleSwitchFilter","data-state","renderCheckbox","activeTab","filterOptions","setFilterOptions","tabRef","chooseFiltersUrl","fetchFilters","fetchApi","typeOptions","checkIfActive","isChecked","currentSet","getFiltersCheckboxSet","Filters","setActiveTab","switchFilterTab","outsideClick","checkboxSet","ActiveFiltersContainer","SingleFilter","filterState","Checkmark","MainContainer","MainContainerLeft","MainContainerTopMenu","MainContainerLeftGradient","MainContainerContent","MainContainerMenu","MainContainerInnerContent","MainContainerRight","MainContainerRightBox","activeTabs","setActiveTabs","newTabs","filtersToRemove","forEach","App","Boolean","location","hostname","ReactDOM","render","basename","process","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8f910e76.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/events.3ca0dec5.svg\";","module.exports = __webpack_public_path__ + \"static/media/politics.d6e7e82f.svg\";","module.exports = __webpack_public_path__ + \"static/media/person.e65cb6d9.svg\";","module.exports = __webpack_public_path__ + \"static/media/Default.10d331fe.svg\";","module.exports = __webpack_public_path__ + \"static/media/current_founder_.954040d8.svg\";","module.exports = __webpack_public_path__ + \"static/media/LOGO_ALT.45cd647c.svg\";","module.exports = __webpack_public_path__ + \"static/media/fields.9541552f.svg\";","module.exports = __webpack_public_path__ + \"static/media/current.3d1dbee8.svg\";","module.exports = __webpack_public_path__ + \"static/media/idea.6dca09bb.svg\";","module.exports = __webpack_public_path__ + \"static/media/influences.12d09e16.svg\";","module.exports = __webpack_public_path__ + \"static/media/influenced.8cd43df7.svg\";","module.exports = __webpack_public_path__ + \"static/media/text.01fdc74e.svg\";","module.exports = __webpack_public_path__ + \"static/media/wiki.7043f2db.svg\";","module.exports = __webpack_public_path__ + \"static/media/date_r.5d1ec8c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/date_l.95b6c361.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon_born.8a2921bb.svg\";","var map = {\n\t\"./MODE_compare.svg\": 82,\n\t\"./MODE_diagram.svg\": 83,\n\t\"./MODE_list.svg\": 84,\n\t\"./MODE_map.svg\": 85,\n\t\"./MODE_timeline.svg\": 86\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 81;","module.exports = __webpack_public_path__ + \"static/media/MODE_compare.503456e3.svg\";","module.exports = __webpack_public_path__ + \"static/media/MODE_diagram.7fecd7fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/MODE_list.b55f3efa.svg\";","module.exports = __webpack_public_path__ + \"static/media/MODE_map.1f348d62.svg\";","module.exports = __webpack_public_path__ + \"static/media/MODE_timeline.ce588406.svg\";","import styled from \"styled-components\"\r\n\r\nexport const Home = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: navajowhite;\r\n`\r\n","interface MapTypes {\r\n  coordinates: [number, number]\r\n  defaultTile: string\r\n  mainTile: string\r\n  zoom: number\r\n  osmTile: string\r\n}\r\n\r\nexport const mapSettings: MapTypes = {\r\n  coordinates: [49.75, 6.66],\r\n  defaultTile: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\r\n  mainTile:\r\n    \"https://api.mapbox.com/styles/v1/icelandic/cjyx6gn4d0kda1cmfa6zicbx5/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiaWNlbGFuZGljIiwiYSI6ImNpZ213MWNxdTAwMTFsdWt0MjNvaWlobGQifQ.li8dcAHVjUn27-A70FgeAQ\",\r\n  zoom: 5,\r\n  osmTile: \"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\"\r\n}\r\n","interface Urls {\r\n  [key: string]: string\r\n}\r\n\r\n// export const apiUrls: Urls = {\r\n//   baseUrl: \"http://icelandico.usermd.net/\",\r\n//   articles: \"http://icelandico.usermd.net/characters\",\r\n//   organisations: \"http://icelandico.usermd.net/organisations\",\r\n//   events: \"http://icelandico.usermd.net/events\",\r\n//   ideas: \"http://icelandico.usermd.net/ideas\",\r\n//   literature: \"http://icelandico.usermd.net/literature\",\r\n//   professions: \"http://icelandico.usermd.net/professions\",\r\n//   mainideas: \"http://icelandico.usermd.net/mainideas\",\r\n//   nationalities: \"http://icelandico.usermd.net/nationalities\"\r\n// }\r\n\r\nexport const apiUrls: Urls = {\r\n  baseUrl: \"https://icelandico.usermd.net\",\r\n  baseUrlDev: \"http://localhost:1337\"\r\n}\r\n\r\nexport const apiEndpoints = {\r\n  getArticles: `${apiUrls.baseUrl}/markers`,\r\n  getProfessions: `${apiUrls.baseUrl}/professions?_sort=name:ASC`,\r\n  getMainIdeas: `${apiUrls.baseUrl}/mainIdeas?_sort=name:ASC`,\r\n  getNationalities: `${apiUrls.baseUrl}/nationalities?_sort=name:ASC`\r\n}\r\n\r\nexport const apiFilters = {\r\n  getFiltered: `${apiUrls.baseUrlDev}/markers/filter`\r\n}\r\n","import { Instance, types } from \"mobx-state-tree\"\r\n\r\nexport const IdeaDetails = types.model(\"IdeaDetails\", {\r\n  id: types.identifierNumber,\r\n  name: types.string,\r\n  wikipediaLink: types.optional(types.string, \"\")\r\n})\r\n\r\nexport const MainIdeaDetails = types.model(\"MainIdeaDetails\", {\r\n  id: types.identifierNumber,\r\n  name: types.string,\r\n  description: types.string,\r\n  wikipediaLink: types.optional(types.string, \"\")\r\n})\r\n\r\nexport const ImageDetails = types.model(\"ImageDetails\", {\r\n  id: types.identifierNumber,\r\n  url: types.string\r\n})\r\n\r\nexport const BaseInfoDetails = types.model(\"BaseInfoDetails\", {\r\n  id: types.identifierNumber,\r\n  name: types.string,\r\n  type: types.optional(types.string, \"\"),\r\n})\r\n\r\nexport const WritingsDetails = types.model(\"WritingsDetails\", {\r\n  id: types.identifierNumber,\r\n  title: types.string,\r\n  description: types.string,\r\n  publicated: types.maybeNull(types.string),\r\n  fragments: types.maybeNull(types.string)\r\n})\r\n\r\nexport const NationalityDetails = types.model(\"NationalityDetails\", {\r\n  id: types.identifierNumber,\r\n  name: types.maybeNull(types.string),\r\n  flag: types.maybeNull(\r\n    types.model({\r\n      id: types.identifierNumber,\r\n      url: types.maybeNull(types.string)\r\n    })\r\n  )\r\n})\r\n\r\nexport const UserBookmark = types.model(\"UserBookmarks\", {\r\n  id: types.string\r\n})\r\n\r\nexport type IUserBookmark = Instance<typeof UserBookmark>\r\n","import { types } from \"mobx-state-tree\"\r\nimport {\r\n  IdeaDetails,\r\n  ImageDetails,\r\n  MainIdeaDetails,\r\n  BaseInfoDetails,\r\n  WritingsDetails,\r\n  NationalityDetails\r\n} from \"./articleDetails\"\r\n\r\nexport const ArticleModel = types.model(\"Article\", {\r\n  id: types.number,\r\n  name: types.optional(types.string, \"\"),\r\n  startDate: types.optional(types.maybeNull(types.string), \"No Date\"),\r\n  endDate: types.optional(types.maybeNull(types.string), \"No Date\"),\r\n  startCoords: types.maybeNull(types.string),\r\n  wikipediaLink: types.maybeNull(types.string),\r\n  description: types.maybeNull(types.string),\r\n  image: types.maybeNull(ImageDetails),\r\n  nationality: types.maybeNull(NationalityDetails),\r\n  type: types.string,\r\n  identifier: types.identifier,\r\n  startPlace: types.maybeNull(types.string),\r\n  EndPlace: types.maybeNull(types.string),\r\n  precursor: types.optional(types.array(IdeaDetails), []),\r\n  ideaPrecursor: types.optional(types.array(IdeaDetails), []),\r\n  professions: types.optional(types.array(BaseInfoDetails), []),\r\n  ideas: types.optional(types.array(IdeaDetails), []),\r\n  mainideas: types.optional(types.array(MainIdeaDetails), []),\r\n  writings: types.optional(types.array(WritingsDetails), []),\r\n  influenced: types.optional(\r\n    types.array(\r\n      types.model(\"Related\", {\r\n        id: types.number,\r\n        type: types.string,\r\n        name: types.string\r\n      })\r\n    ),\r\n    []\r\n  ),\r\n  influences: types.optional(\r\n    types.array(\r\n      types.model(\"Related\", {\r\n        id: types.number,\r\n        type: types.string,\r\n        name: types.string\r\n      })\r\n    ),\r\n    []\r\n  ),\r\n  relatedOrg: types.optional(\r\n    types.array(\r\n      types.model(\"RelatedOrganisations\", {\r\n        id: types.number,\r\n        type: types.string,\r\n        name: types.string\r\n      })\r\n    ),\r\n    []\r\n  ),\r\n  relatedPerson: types.optional(\r\n    types.array(\r\n      types.model(\"RelatedPersons\", {\r\n        id: types.number,\r\n        type: types.string,\r\n        name: types.string\r\n      })\r\n    ),\r\n    []\r\n  ),\r\n  relatedEvent: types.optional(\r\n    types.array(\r\n      types.model(\"RelatedEvent\", {\r\n        id: types.number,\r\n        type: types.string,\r\n        name: types.string\r\n      })\r\n    ),\r\n    []\r\n  )\r\n})","export const formatDate = (date: string) => {\r\n  const getDate = (dateToFormat: string) => {\r\n    const matchDate = dateToFormat.match(/\\d+/g)\r\n    const formattedDate = {\r\n      day: matchDate[2],\r\n      month: romanizeMonth(matchDate[1]),\r\n      year: matchDate[0]\r\n    }\r\n    return formattedDate\r\n  }\r\n\r\n  if (date) {\r\n    const formattedDate = getDate(date)\r\n    return `${formattedDate.day} ${formattedDate.month} ${formattedDate.year}`\r\n  }\r\n\r\n  return \"??-??-??\"\r\n}\r\n\r\nexport const getYear = (date: string) => {\r\n  const fullYear = new Date(date).getFullYear()\r\n  return fullYear\r\n}\r\n\r\nconst romanizeMonth = (original: string): string => {\r\n  const numerals = [\r\n    [\"I\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"VII\", \"VIII\", \"IX\"],\r\n    [\"X\", \"XX\", \"XXX\", \"XL\", \"L\", \"LX\", \"LXX\", \"LXXX\", \"XC\"],\r\n    [\"C\", \"CC\", \"CCC\", \"CD\", \"D\", \"DC\", \"DCC\", \"DCCC\", \"CM\"],\r\n    [\"M\", \"MM\", \"MMM\"]\r\n  ]\r\n\r\n  const digits = Math.round(parseInt(original, 10))\r\n    .toString()\r\n    .split(\"\")\r\n  let position = digits.length - 1\r\n  return digits.reduce((roman, digit) => {\r\n    if (digit !== \"0\") {\r\n      roman += numerals[position][parseInt(digit, 10) - 1]\r\n    }\r\n\r\n    position -= 1\r\n\r\n    return roman\r\n  }, \"\")\r\n}\r\n\r\nexport const calculateAge = (startDate: string, endDate: string) => {\r\n  const start = new Date(startDate)\r\n  const end = new Date(endDate)\r\n  const yearsDiff = end.getFullYear() - start.getFullYear()\r\n  const monthDifference = yearsDiff * 12 + (end.getMonth() - start.getMonth())\r\n  return Math.floor(monthDifference / 12)\r\n}\r\n","import { types } from \"mobx-state-tree\"\r\nimport { getYear } from \"../../utils/formatDate\"\r\n\r\nexport const SHOW_ALL = \"show_all\"\r\nexport const BY_YEAR = \"by_year\"\r\nexport const CUMULATIVE = \"cummulative\"\r\nexport const TYPE_EVENT = \"type_event\"\r\nexport const TYPE_PERSON = \"type_person\"\r\nexport const TYPE_WRITING = \"type_writing\"\r\n\r\nexport const filterType = types.union(\r\n  ...[SHOW_ALL, BY_YEAR, CUMULATIVE, TYPE_EVENT, TYPE_PERSON, TYPE_WRITING].map(\r\n    types.literal\r\n  )\r\n)\r\n\r\ninterface IFilters {\r\n  [key: string]: Function\r\n}\r\n\r\nexport const FILTERS: IFilters = {\r\n  [SHOW_ALL]: () => true,\r\n  [BY_YEAR]: (year?: number) => {\r\n    return (article: any) => {\r\n      const articleYear = getYear(article.startDate)\r\n      return articleYear === year\r\n    }\r\n  },\r\n  [CUMULATIVE]: (year?: number) => {\r\n    return (article: any) => {\r\n      const articleYear = getYear(article.startDate)\r\n      return articleYear <= year\r\n    }\r\n  },\r\n}\r\n","import { Instance, types } from \"mobx-state-tree\"\r\n\r\nexport const Filter = types.model(\"Filter\", {\r\n  type: types.string,\r\n  name: types.string,\r\n  state: types.number,\r\n  id: types.optional(types.number, 0)\r\n})\r\n\r\nexport const FiltersSet = types.model(\"FiltersSet\", {\r\n  time: types.union(types.literal(\"CUMULATIVE\"), types.literal(\"BY_YEAR\")),\r\n  parameters: types.optional(types.array(Filter), [])\r\n})\r\n\r\nexport type FilterModel = Instance<typeof Filter>\r\nexport type FiltersTime = \"CUMULATIVE\" | \"BY_YEAR\"\r\n","import { types, Instance, flow, applySnapshot, cast } from \"mobx-state-tree\"\r\nimport { apiEndpoints } from \"../api/api\"\r\nimport { ArticleModel } from \"./articleModel\"\r\nimport {\r\n  FILTERS,\r\n  filterType,\r\n  BY_YEAR,\r\n  CUMULATIVE,\r\n} from \"../constants/filters\"\r\nimport { getYear } from \"../../utils/formatDate\"\r\nimport { UserBookmark, IUserBookmark } from \"./articleDetails\"\r\nimport { FilterModel, FiltersSet, FiltersTime } from \"./filterModel\"\r\n\r\nexport type ArticleModel = Instance<typeof Article>\r\n\r\nexport const Article = types.maybeNull(ArticleModel)\r\n\r\nconst ArticleStore = types\r\n  .model(\"ArticleStore\", {\r\n    articles: types.optional(types.array(Article), []),\r\n    chosenArticle: types.maybe(types.reference(Article)),\r\n    currentYear: types.optional(types.number, 0),\r\n    filter: types.optional(filterType, CUMULATIVE),\r\n    firstYear: types.maybeNull(types.number),\r\n    lastYear: types.maybeNull(types.number),\r\n    userBookmarks: types.optional(types.array(UserBookmark), []),\r\n    recentlyViewed: types.optional(types.array(UserBookmark), []),\r\n    activeFilters: types.optional(FiltersSet, { time: \"CUMULATIVE\", parameters: [] })\r\n  })\r\n  .actions(self => ({\r\n    getAllArticles: flow(function*() {\r\n      const response = yield fetch(apiEndpoints.getArticles).then(\r\n        (response: Response) => {\r\n          if (response.ok) {\r\n            return response.json()\r\n          } else {\r\n            console.log('error')\r\n          }\r\n        }\r\n      )\r\n      const articlesWithIds = response.map((el: ArticleModel) => ({\r\n        ...el,\r\n        identifier: `${el.type}-${el.id}`\r\n      }))\r\n      const sortedArticles = articlesWithIds.sort(\r\n        (a: ArticleModel, b: ArticleModel) => getYear(a.startDate) - getYear(b.startDate)\r\n      )\r\n      applySnapshot(self.articles, sortedArticles)\r\n    }),\r\n    getBookmarsFromStore() {\r\n      const storeBookmarks =\r\n        JSON.parse(window.localStorage.getItem(\"userBookmarks\")) || []\r\n      applySnapshot(self.userBookmarks, storeBookmarks)\r\n    },\r\n    getRecentlyViewedFromStore() {\r\n      const recentlyViewedItems =\r\n        JSON.parse(window.localStorage.getItem(\"recentlyViewedItems\")) || []\r\n      applySnapshot(self.recentlyViewed, recentlyViewedItems)\r\n    },\r\n    insertInStorage(item: string) {\r\n      const storageItems =\r\n        JSON.parse(window.localStorage.getItem(\"recentlyViewedItems\")) || []\r\n\r\n      if (storageItems.length > 0 && item === storageItems[storageItems.length - 1].id) return\r\n\r\n      const newItems = storageItems.concat({ id: item })\r\n      window.localStorage.setItem(\r\n        \"recentlyViewedItems\",\r\n        JSON.stringify(newItems)\r\n      )\r\n      self.recentlyViewed = newItems\r\n    },\r\n    toggle(identifier: string) {\r\n      const chosenArticle = self.articles.find(\r\n        article => article.identifier === identifier\r\n      )\r\n      if (chosenArticle) {\r\n        self.chosenArticle = chosenArticle\r\n        this.insertInStorage(identifier)\r\n        return\r\n      }\r\n      alert(\"Article not found!\")\r\n    },\r\n    incrementYear() {\r\n      self.currentYear + 1 > self.lastYear\r\n        ? self.currentYear = self.lastYear\r\n        : (self.currentYear += 1)\r\n    },\r\n    decrementYear() {\r\n      self.currentYear - 1 < self.firstYear\r\n        ? self.currentYear = self.firstYear\r\n        : self.currentYear -= 1\r\n    },\r\n    setYear(year: number) {\r\n      if (year > self.lastYear) {\r\n        self.currentYear = self.lastYear\r\n      } else if (year < self.firstYear) {\r\n        self.currentYear = self.firstYear\r\n      } else {\r\n        self.currentYear = year\r\n      }\r\n    },\r\n    setFilter(mode: FiltersTime) {\r\n      self.activeFilters.time = mode\r\n    },\r\n    setYearsRange(): void {\r\n      const allArticles = self.articles\r\n      const articleDates = allArticles\r\n        .filter(el => el.startDate)\r\n        .map(el => new Date(el.startDate))\r\n      const lastYear: number = new Date(\r\n        Math.max(...(articleDates as []))\r\n      ).getFullYear()\r\n      const firstYear: number = new Date(\r\n        Math.min(...(articleDates as []))\r\n      ).getFullYear()\r\n      self.lastYear = lastYear\r\n      self.firstYear = firstYear\r\n      self.currentYear = lastYear\r\n    },\r\n    setUserBookmarks(newBookmarks: IUserBookmark[]): void {\r\n      self.userBookmarks = cast(newBookmarks)\r\n    },\r\n    getCurrentState(name: string, type: string): number {\r\n      const activeIndex = self.activeFilters.parameters.findIndex(\r\n        element => element.name === name && element.type === type\r\n      )\r\n      return activeIndex !== -1\r\n        ? self.activeFilters.parameters[activeIndex].state\r\n        : 0\r\n    },\r\n    removeFilter(filter: FilterModel) {\r\n      const activeIndex = self.activeFilters.parameters.findIndex(\r\n        element => element.name === filter.name && element.type === filter.type\r\n      )\r\n      applySnapshot(\r\n        self.activeFilters.parameters,\r\n        self.activeFilters.parameters.filter((filter, index) => index !== activeIndex)\r\n      )\r\n    },\r\n    insertFilter(filter: FilterModel) {\r\n      applySnapshot(\r\n        self.activeFilters.parameters,\r\n        self.activeFilters.parameters.concat(filter)\r\n      )\r\n    },\r\n    changeFilterState(filter: FilterModel) {\r\n      const activeIndex = self.activeFilters.parameters.findIndex(\r\n        element => element.name === filter.name && element.type === filter.type\r\n      )\r\n      const updatedFilters = self.activeFilters.parameters.map((currentFilter, index) => index === activeIndex ? {...currentFilter, state: filter.state } : currentFilter)\r\n      applySnapshot(self.activeFilters.parameters, updatedFilters)\r\n    }\r\n  }))\r\n  .views(self => ({\r\n    get filteredStore() {\r\n      const currentTimeFilter: string = self.activeFilters.time\r\n      const currentFilterParams = self.activeFilters.parameters.filter(filter => filter.type !== \"type\")\r\n      const currentTypeFilterParams = self.activeFilters.parameters.filter(filter => filter.type === \"type\")\r\n\r\n      const filteredByParams = self.articles.filter(article =>\r\n        currentFilterParams.every(filter => {\r\n          if (filter.type === \"nationalities\" && article.nationality) {\r\n            if (filter.state === 1) return article.nationality.name === filter.name\r\n            if (filter.state === 2) return article.nationality.name !== filter.name\r\n          }\r\n          if (filter.type === \"mainideas\" && article.mainideas) {\r\n            if (filter.state === 1) return article.mainideas.some(el => el.name === filter.name)\r\n            if (filter.state === 2) return article.mainideas.every(el => el.name !== filter.name)\r\n          }\r\n          if (filter.type === \"professions\" && article.professions) {\r\n            if (filter.state === 1) return article.professions.some(el => el.name === filter.name)\r\n            if (filter.state === 2) return article.professions.every(el => el.name !== filter.name)\r\n          }\r\n        })\r\n      )\r\n\r\n      const filteredByType =\r\n        currentTypeFilterParams.length > 0\r\n          ? filteredByParams.filter(article =>\r\n              currentTypeFilterParams.every(\r\n                filter => article.type !== filter.name\r\n              )\r\n            )\r\n          : filteredByParams\r\n\r\n      if (currentTimeFilter === \"CUMULATIVE\") {\r\n        return filteredByType.filter(FILTERS[CUMULATIVE](self.currentYear))\r\n      }\r\n      if (currentTimeFilter === \"BY_YEAR\") {\r\n        return filteredByType.filter(FILTERS[BY_YEAR](self.currentYear))\r\n      }\r\n      return self.articles\r\n    }\r\n  }))\r\n\r\nexport default ArticleStore\r\n","import { types } from \"mobx-state-tree\"\r\nimport ArticleStore from \"./models/article\"\r\n\r\nconst RootStore = types.model(\"RootStore\", {\r\n  articleStore: types.optional(ArticleStore, {})\r\n})\r\n\r\nexport const rootStore = RootStore.create()\r\n","interface Colors {\r\n  [key: string]: string\r\n}\r\n\r\nexport const colors: Colors = {\r\n  white: \"#fff\",\r\n  darkGreen: \"#00393f\",\r\n  green: \"#007260\",\r\n  lightBrown: \"#FEEACA\",\r\n  regularRed: \"#C33200\",\r\n  lightRed: \"#FF6B64\",\r\n  darkBlue: \"#007DA6\",\r\n  woodBrown: \"#DA9D65\",\r\n  lightGreen: \"#00aa60\",\r\n  indianRed: \"#ff6c64\",\r\n  teal: \"#00abbe\",\r\n  darkYellow: \"#ffdc65\",\r\n  purple: \"#96388D\"\r\n}\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../styles/colors\"\r\n\r\nexport const CustomMarker = styled.div<{ color?: string }>`\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 0.5rem solid transparent;\r\n  border-right: 0.5rem solid transparent;\r\n  border-top: 1rem solid ${props => props.color || colors.lightBrown};\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n`\r\n\r\nexport const CustomPopup = styled.div<{ color: string }>`\r\n  width: 3rem;\r\n  height: 3rem;\r\n  border-radius: 50% 50% 50% 0;\r\n  background: ${props => props.color};\r\n  position: absolute;\r\n  transform: rotate(-45deg);\r\n  left: 50%;\r\n  top: 50%;\r\n  margin: -1.5rem 0 0 -1.45rem;\r\n\r\n  div {\r\n    width: 100%;\r\n    height: 100%;\r\n    transform: rotate(45deg);\r\n    background-repeat: no-repeat;\r\n    background-size: 90%;\r\n    position: relative;\r\n    top: 2px;\r\n  }\r\n\r\n`\r\n","import { colors } from \"../styles/colors\"\r\n\r\nexport const chooseColor = (type: string) => {\r\n  switch (type) {\r\n    case \"person\":\r\n      return colors.white\r\n    case \"event\":\r\n      return colors.purple\r\n    case \"organisation\":\r\n      return colors.regularRed\r\n    case \"writings\":\r\n      return colors.green\r\n    default:\r\n      return colors.lightBrown\r\n  }\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \".cls-1,.cls-4{fill:none;}.cls-2{clip-path:url(#clip-path);}.cls-3{fill:#00393f;}.cls-4{stroke:#ffeacb;stroke-width:0.99px;}\"), React.createElement(\"clipPath\", {\n  id: \"clip-path\",\n  transform: \"translate(-989.37 -595.7)\"\n}, React.createElement(\"rect\", {\n  className: \"cls-1\",\n  x: 989.37,\n  y: 595.7,\n  width: 15.9,\n  height: 15.9\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  className: \"cls-2\"\n}, React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M997.32,611.1a7.46,7.46,0,1,0-7.45-7.45,7.46,7.46,0,0,0,7.45,7.45\",\n  transform: \"translate(-989.37 -595.7)\"\n}), React.createElement(\"circle\", {\n  className: \"cls-4\",\n  cx: 7.95,\n  cy: 7.95,\n  r: 7.45\n}), React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M997.32,604.51a3,3,0,1,0-3-3,2.95,2.95,0,0,0,3,3\",\n  transform: \"translate(-989.37 -595.7)\"\n}), React.createElement(\"circle\", {\n  className: \"cls-4\",\n  cx: 7.95,\n  cy: 5.86,\n  r: 2.95\n}), React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M1003.79,607.39c0-2-1.75-3.2-4.22-3.85\",\n  transform: \"translate(-989.37 -595.7)\"\n}), React.createElement(\"path\", {\n  className: \"cls-4\",\n  d: \"M1003.79,607.39c0-2-1.75-3.2-4.22-3.85\",\n  transform: \"translate(-989.37 -595.7)\"\n}), React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M995,603.55c-2.45.65-4.19,1.88-4.19,3.84\",\n  transform: \"translate(-989.37 -595.7)\"\n}), React.createElement(\"path\", {\n  className: \"cls-4\",\n  d: \"M995,603.55c-2.45.65-4.19,1.88-4.19,3.84\",\n  transform: \"translate(-989.37 -595.7)\"\n}));\n\nvar SvgPerson = function SvgPerson(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Warstwa_1\",\n    \"data-name\": \"Warstwa 1\",\n    viewBox: \"0 0 15.9 15.9\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPerson, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/person.e65cb6d9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n  id: \"a\",\n  transform: \"translate(-956.41 -527.51)\"\n}, React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M956.41 527.51h16.21v16.21h-16.21z\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  clipPath: \"url(#a)\"\n}, React.createElement(\"path\", {\n  d: \"M8.11 15.7a7.6 7.6 0 10-7.6-7.6 7.6 7.6 0 007.6 7.6\",\n  fill: \"#00393f\"\n}), React.createElement(\"circle\", {\n  cx: 8.1,\n  cy: 8.1,\n  r: 7.6,\n  stroke: \"#c33200\",\n  strokeWidth: 1.01,\n  fill: \"none\"\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M7.04 8.4h2.13v2.13H7.04zm0-4.3h2.13v2.13H7.04zM3.7 8.4h2.12v2.13H3.7zm6.68 0h2.13v2.13h-2.13z\",\n  fill: \"#c33200\"\n});\n\nvar SvgPolitics = function SvgPolitics(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    \"data-name\": \"Warstwa 1\",\n    viewBox: \"0 0 16.21 16.21\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPolitics, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/politics.d6e7e82f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n  id: \"clip-path\",\n  transform: \"translate(-956.34 -527.43)\"\n}, React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M956.34 527.43h16.36v16.36h-16.36z\"\n})), React.createElement(\"clipPath\", {\n  id: \"clip-path-2\",\n  transform: \"translate(-956.34 -527.43)\"\n}, React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M956.84 535.61a7.68 7.68 0 107.68-7.67 7.68 7.68 0 00-7.68 7.67\"\n})), React.createElement(\"style\", null, \"\\n            .cls-1{fill:none}.cls-2{clip-path:url(#clip-path)}\\n        \"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M964.52 543.28a7.67 7.67 0 10-7.68-7.67 7.67 7.67 0 007.68 7.67\",\n  transform: \"translate(-956.34 -527.43)\",\n  fill: \"#00393f\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  clipPath: \"url(#clip-path-2)\"\n}, React.createElement(\"path\", {\n  fill: \"#96388d\",\n  d: \"M8.41 3.68h-.28L7.7 6.82 5.17 4.91l-.19.19 1.91 2.55-3.14.44v.27l3.1.47-1.87 2.5.19.19 2.5-1.87.46 3.12h.28l.45-3.16 2.53 1.91.2-.19L9.66 8.8l3.16-.44v-.27l-3.16-.44 1.93-2.55-.2-.19-2.53 1.91-.45-3.14z\"\n}));\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M8.18 15.85A7.67 7.67 0 10.5 8.18a7.67 7.67 0 007.68 7.67z\",\n  stroke: \"#96388d\",\n  strokeWidth: 1.02,\n  fill: \"none\"\n});\n\nvar SvgEvents = function SvgEvents(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Warstwa_1\",\n    \"data-name\": \"Warstwa 1\",\n    viewBox: \"0 0 16.36 16.36\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgEvents, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/events.3ca0dec5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n  id: \"clip-path\",\n  transform: \"translate(-953.86 -514.25)\"\n}, React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M953.86 514.25h16.08v16.08h-16.08z\"\n})), React.createElement(\"clipPath\", {\n  id: \"clip-path-2\",\n  transform: \"translate(-953.86 -514.25)\"\n}, React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M954.36 522.3a7.54 7.54 0 107.54-7.55 7.55 7.55 0 00-7.54 7.55\"\n})), React.createElement(\"style\", null, \"\\r\\n      .cls-1,.cls-6{fill:none}.cls-2{clip-path:url(#clip-path)}.cls-6{stroke:#00393f;stroke-width:.73px}\\r\\n    \"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M961.9 529.84a7.55 7.55 0 10-7.54-7.54 7.55 7.55 0 007.54 7.54\",\n  transform: \"translate(-953.86 -514.25)\",\n  fill: \"#00393f\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  clipPath: \"url(#clip-path-2)\"\n}, React.createElement(\"path\", {\n  fill: \"#007260\",\n  d: \"M3.54 4.59h9v12h-9z\"\n}), React.createElement(\"path\", {\n  className: \"cls-6\",\n  d: \"M5.04 6.95h6M5.04 9.24h6M5.04 11.54h6\"\n}));\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M961.9 529.84a7.55 7.55 0 10-7.54-7.54 7.55 7.55 0 007.54 7.54z\",\n  transform: \"translate(-953.86 -514.25)\",\n  stroke: \"#007260\",\n  fill: \"none\"\n});\n\nvar SvgText = function SvgText(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Warstwa_1\",\n    \"data-name\": \"Warstwa 1\",\n    viewBox: \"0 0 16.08 16.59\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgText, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/text.01fdc74e.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as PersonIcon } from \"../static/icons/person.svg\"\nimport { ReactComponent as OrganisationIcon } from \"../static/icons/politics.svg\"\nimport { ReactComponent as EventIcon } from \"../static/icons/events.svg\"\nimport { ReactComponent as WritingsIcon } from \"../static/icons/text.svg\"\n\nexport const chooseIcon = (iconType: string) => {\n  switch (iconType) {\n    case \"person\":\n      return PersonIcon\n    case \"organisation\":\n      return OrganisationIcon\n    case \"event\":\n      return EventIcon\n    case \"writing\":\n      return WritingsIcon\n    default:\n      return PersonIcon\n  }\n}\n","import React, { FunctionComponent, useRef, useEffect } from \"react\"\r\nimport { Marker, Popup } from \"react-leaflet\"\r\nimport { observer, inject } from \"mobx-react\"\r\nimport L, { DivIcon } from \"leaflet\"\r\nimport ReactDOMServer from \"react-dom/server\"\r\nimport { rootStore } from \"../../store/RootStore\"\r\nimport { apiUrls } from \"../../store/api/api\"\r\nimport { ArticleModel } from \"../../store/models/article\"\r\nimport { CustomMarker, CustomPopup } from \"./marker-styles\"\r\nimport { chooseColor } from \"../../utils/articleTypeColor\"\r\nimport { chooseIcon } from \"../../utils/chooseIcon\"\r\n\r\ninterface IProps {\r\n  store?: typeof rootStore\r\n  article: ArticleModel\r\n  key: string\r\n  position: [number, number]\r\n  type: string\r\n  isActive: boolean\r\n}\r\n\r\nconst MapMarker: FunctionComponent<IProps> = ({\r\n  store,\r\n  article,\r\n  key,\r\n  position,\r\n  type,\r\n  isActive\r\n}: IProps) => {\r\n  const markerRef = useRef(null)\r\n\r\n  const customIcon = (): DivIcon => {\r\n    return L.divIcon({\r\n      html: ReactDOMServer.renderToString(\r\n        <CustomMarker color={chooseColor(type)} />\r\n      ),\r\n      iconAnchor: [15, 15]\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isActive === true) {\r\n      markerRef.current.leafletElement.options.leaflet.map.panTo(position)\r\n      markerRef.current.leafletElement.openPopup()\r\n    }\r\n  }, [isActive])\r\n\r\n  return (\r\n    <Marker\r\n      icon={customIcon()}\r\n      key={key}\r\n      position={position}\r\n      iconAnchor={[0, 0]}\r\n      iconSize={[40, 40]}\r\n      onClick={() => store.articleStore.toggle(article.identifier)}\r\n      ref={markerRef}\r\n    >\r\n      <Popup style={{ background: \"transparent\" }} autoPan={false}>\r\n        <CustomPopup color={chooseColor(type)}>\r\n          <div\r\n            color={chooseColor(type)}\r\n            style={{\r\n              backgroundImage: `url(${\r\n                article && article.image\r\n                  ? `${apiUrls.baseUrl}${article.image.url}`\r\n                  : chooseIcon(type)\r\n              })`\r\n            }}\r\n          />\r\n        </CustomPopup>\r\n      </Popup>\r\n    </Marker>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(MapMarker))\r\n","import styled, { keyframes } from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\n\r\nconst loaderKeyframes = keyframes`\r\n  0%,\r\n  80%,\r\n  100% {\r\n    box-shadow: 0 0;\r\n    height: 4rem;\r\n  }\r\n  40% {\r\n    box-shadow: 0 -2rem;\r\n    height: 5rem;\r\n}\r\n`\r\n\r\nexport const LoaderContainer = styled.div<{\r\n  background?: boolean\r\n  regular?: boolean\r\n}>`\r\n  position: ${props => !props.regular && \"absolute\"};\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-content: center;\r\n  background-color: ${props => props.background && \"rgba(0, 0, 0, 0.8)\"};\r\n  z-index: 1001;\r\n`\r\n\r\nexport const LoaderElements = styled.div`\r\n  &,\r\n  &::after,\r\n  &::before {\r\n    background: ${colors.lightBrown};\r\n    -webkit-animation: ${loaderKeyframes} 1s infinite ease-in-out;\r\n    animation: ${loaderKeyframes} 1s infinite ease-in-out;\r\n    width: 1rem;\r\n    height: 4rem;\r\n  }\r\n\r\n  & {\r\n    color: ${colors.lightBrown};\r\n    text-indent: -9999rem;\r\n    margin: 8.8rem auto;\r\n    position: relative;\r\n    font-size: 1.1rem;\r\n    -webkit-transform: translateZ(0);\r\n    -ms-transform: translateZ(0);\r\n    transform: translateZ(0);\r\n    -webkit-animation-delay: -0.16s;\r\n    animation-delay: -0.16s;\r\n    align-self: center;\r\n  }\r\n\r\n  &::after,\r\n  &::before {\r\n    position: absolute;\r\n    top: 0;\r\n    content: \"\";\r\n  }\r\n\r\n  &::before {\r\n    left: -1.5rem;\r\n    -webkit-animation-delay: -0.32s;\r\n    animation-delay: -0.32s;\r\n  }\r\n  &::after {\r\n    left: 1.5rem;\r\n  }\r\n`\r\n","import React, { FunctionComponent } from \"react\"\r\nimport { LoaderElements, LoaderContainer } from \"./loader-styles\"\r\n\r\ninterface IProps {\r\n  regular?: boolean\r\n  background?: boolean\r\n}\r\n\r\nconst Loader: FunctionComponent<IProps> = props => {\r\n  const { background, regular } = props\r\n  return (\r\n    <LoaderContainer regular={regular} background={background}>\r\n      <LoaderElements />\r\n    </LoaderContainer>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import React from \"react\"\r\nimport { Map, TileLayer } from \"react-leaflet\"\r\nimport { observer, inject } from \"mobx-react\"\r\nimport { mapSettings } from \"./utils\"\r\nimport { rootStore } from \"../../store/RootStore\"\r\nimport MapMarker from \"../Marker/marker\"\r\nimport Loader from \"../shared/Loader/loader\"\r\nimport { ArticleModel } from \"../../store/models/article\"\r\n\r\ninterface Props {\r\n  store?: typeof rootStore\r\n}\r\n\r\nclass MapComponent extends React.Component<Props, {}> {\r\n  async componentDidMount() {\r\n    const { store } = this.props\r\n    store.articleStore.getBookmarsFromStore()\r\n    store.articleStore.getRecentlyViewedFromStore()\r\n    await store.articleStore.getAllArticles()\r\n    store.articleStore.setYearsRange()\r\n  }\r\n\r\n  showMarkers = (article: ArticleModel): JSX.Element => {\r\n    const coords = article.startCoords\r\n      .split(\",\")\r\n      .map((coordinate: string) => Number(coordinate))\r\n    const markerCoords: [number, number] = [coords[0], coords[1]]\r\n    return (\r\n      <MapMarker\r\n        isActive={\r\n          rootStore.articleStore.chosenArticle ?\r\n            article.identifier === rootStore.articleStore.chosenArticle.identifier\r\n            : false\r\n        }\r\n        key={`${article.type}-${article.id}`}\r\n        article={article}\r\n        position={markerCoords}\r\n        type={article.type}\r\n      />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { articleStore } = rootStore\r\n    return (\r\n      <Map\r\n        center={mapSettings.coordinates}\r\n        zoom={mapSettings.zoom}\r\n        style={{ height: \"100%\" }}\r\n      >\r\n        <TileLayer\r\n          url={mapSettings.mainTile}\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          noWrap\r\n        />\r\n        {articleStore.articles.length ? (\r\n          articleStore.filteredStore.map((article: ArticleModel) =>\r\n            article.startCoords ? this.showMarkers(article) : null\r\n          )\r\n        ) : (\r\n          <Loader background />\r\n        )}\r\n      </Map>\r\n    )\r\n  }\r\n}\r\n\r\nexport default inject(\"store\")(observer(MapComponent))\r\n","import * as React from \"react\"\r\nimport { Home } from \"./home-page-styles\"\r\nimport MapComponent from \"../../../components/Map/map\"\r\n\r\nconst HomePage = () => (\r\n  <Home>\r\n    <MapComponent />\r\n  </Home>\r\n)\r\n\r\nexport default HomePage\r\n","import styled from \"styled-components\"\r\n\r\nexport const TimelineC = styled.div`\r\n  width: 100%;\r\n  min-height: 115%;\r\n  background-color: rosybrown;\r\n`\r\n","import * as React from \"react\"\nimport { TimelineC } from \"./timeline-styles\"\n\nconst Timeline = () => {\n  return <TimelineC />\n}\n\nexport default Timeline\n","import * as React from \"react\"\r\nimport { Switch, Route } from \"react-router-dom\"\r\nimport HomePage from \"../views/pages/HomePage/home-page\"\r\nimport Timeline from \"../views/pages/Timeline/timeline\"\r\n\r\nconst Routes: React.FC = () => {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\" component={HomePage} />\r\n      <Route path=\"/timeline\" component={Timeline} />\r\n      <Route path=\"/diagram\" component={Timeline} />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Routes\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \".cls-1{fill:none;stroke:#007260;}\"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"SEARCH\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  className: \"cls-1\",\n  cx: 5.18,\n  cy: 3.53,\n  r: 3.03\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"line\", {\n  className: \"cls-1\",\n  x1: 3.18,\n  y1: 5.53,\n  x2: 0.35,\n  y2: 8.36\n});\n\nvar SvgSearch = function SvgSearch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Warstwa_1\",\n    \"data-name\": \"Warstwa 1\",\n    viewBox: \"0 0 8.71 8.71\",\n    ref: svgRef\n  }, props), _ref2, title === undefined ? _ref3 : React.createElement(\"title\", null, title), _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSearch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/SEARCH.924e3802.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"styled-components\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport { colors } from \"../../styles/colors\"\r\nimport { ReactComponent as SearchIcon } from \"../../static/icons/SEARCH.svg\"\r\nimport AppLogo from \"../../static/icons/LOGO_ALT.svg\"\r\n\r\nexport const NavbarContainer = styled.nav`\r\n  height: 100%;\r\n  width: 100%;\r\n`\r\n\r\nexport const SearchIconSvg = styled(SearchIcon)`\r\n  position: absolute;\r\n  left: -3rem;\r\n  height: 30%;\r\n`\r\n\r\nexport const Home = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: navajowhite;\r\n`\r\n\r\nexport const NavbarTop = styled.div`\r\n  height: 30%;\r\n`\r\n\r\nexport const NavbarElement = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 100%;\r\n`\r\n\r\nexport const NavbarSearch = styled(NavbarElement)`\r\n  width: 30rem;\r\n  position: relative;\r\n  margin-top: 1rem;\r\n`\r\n\r\nexport const NavbarBottom = styled.div`\r\n  height: 70%;\r\n  border-top: 0.1rem solid ${colors.green};\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: relative;\r\n`\r\n\r\nexport const NavigationLinks = styled.ul`\r\n  padding: 0;\r\n  display: flex;\r\n  list-style: none;\r\n\r\n  & a {\r\n    color: ${colors.white};\r\n  }\r\n`\r\n\r\nexport const NavigationItem = styled.li`\r\n  margin-left: 1rem;\r\n  width: 6rem;\r\n  text-align: center;\r\n  max-height: 7rem;\r\n\r\n  & p {\r\n    text-transform: uppercase;\r\n    color: ${colors.green};\r\n    text-align: center;\r\n    font-size: 1.4rem;\r\n    margin-top: 0.5rem;\r\n  }\r\n\r\n  & a {\r\n    text-decoration: none;\r\n    display: block;\r\n  }\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nexport const NavigationIcon = styled.img`\r\n  height: 3.5rem;\r\n  width: 3.5rem;\r\n  border-radius: 50%;\r\n  margin: 0 auto;\r\n  object-fit: cover;\r\n`\r\n\r\nconst activeClassName = \"highlighted\"\r\n\r\nexport const NaviLink = styled(NavLink).attrs({ activeClassName })`\r\n  &.${activeClassName} {\r\n    ${NavigationIcon} {\r\n      border-radius: 50%;\r\n      box-shadow: ${colors.green} 0 0 0 0.5rem;\r\n    }\r\n  }\r\n`\r\n\r\nexport const NavbarLogo = styled.div`\r\n  background-image: url(${AppLogo});\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n  background-color: ${colors.darkGreen};\r\n  width: 30rem;\r\n  height: 50%;\r\n  position: absolute;\r\n  top: -20%;\r\n  outline: 1rem solid ${colors.darkGreen};\r\n`\r\n","interface IMenuItems {\r\n  name: string\r\n  route: string\r\n}\r\nexport const menuItems: IMenuItems[] = [\r\n  {\r\n    name: \"timeline\",\r\n    route: \"/timeline\"\r\n  },\r\n  {\r\n    name: \"diagram\",\r\n    route: \"/diagram\"\r\n  },\r\n  {\r\n    name: \"list\",\r\n    route: \"/list\"\r\n  },\r\n  {\r\n    name: \"compare\",\r\n    route: \"/compare\"\r\n  },\r\n  {\r\n    name: \"map\",\r\n    route: \"\"\r\n  }\r\n]\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../styles/colors\"\r\nimport { chooseColor } from \"../../utils/articleTypeColor\"\r\n\r\nexport const FinderInput = styled.input`\r\n  border: 0.2rem solid ${colors.green};\r\n  background-color: transparent;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding-left: 1.5rem;\r\n  color: ${colors.white};\r\n  transition: 0.25s;\r\n\r\n  &::placeholder {\r\n    color: ${colors.green};\r\n  }\r\n\r\n  &:focus {\r\n    border-color: ${colors.lightBrown};\r\n    outline: none;\r\n  }\r\n`\r\nexport const FinderResultsContainer = styled.div`\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  height: auto;\r\n  max-height: 21rem;\r\n  background-color: ${colors.darkGreen};\r\n  border: 0.1rem solid ${colors.green};\r\n  border-top: transparent;\r\n  overflow-y: auto;\r\n`\r\n\r\nexport const FinderContainer = styled.div`\r\n  width: 100%;\r\n  height: 3rem;\r\n  position: relative;\r\n`\r\n\r\nexport const SingleResult = styled.div<{\r\n  type: string\r\n  isActive: boolean\r\n}>`\r\n  display: flex;\r\n  width: 100%;\r\n  height: 3rem;\r\n  border-bottom: 0.1rem solid ${colors.green};\r\n  color: ${colors.lightBrown};\r\n  padding: 0.5rem 0 0.5rem 0.25rem;\r\n  font-size: 1.4rem;\r\n  cursor: pointer;\r\n  transition: 0.15s;\r\n  background-color: ${props => (props.isActive ? colors.green : \"transparent\")};\r\n\r\n  &:nth-last-child {\r\n    border-bottom: none;\r\n  }\r\n`\r\n\r\nexport const ResultIcon = styled.div`\r\n  width: 2rem;\r\n  margin-right: 0.75rem;\r\n`\r\n\r\nexport const ResultText = styled.span`\r\n  display: inline-block;\r\n  line-height: 2rem;\r\n`\r\n\r\nexport const ClearInput = styled.span`\r\n  position: absolute;\r\n  right: 2rem;\r\n  top: 0.75rem;\r\n  cursor: pointer;\r\n  background: ${colors.lightBrown};\r\n\r\n  &:before {\r\n    content: \"\";\r\n    height: 1.5rem;\r\n    border-left: 3px solid ${colors.lightBrown};\r\n    position: absolute;\r\n    transform: rotate(45deg);\r\n  }\r\n\r\n  &:after {\r\n    content: \"\";\r\n    height: 1.5rem;\r\n    border-left: 3px solid ${colors.lightBrown};\r\n    position: absolute;\r\n    transform: rotate(-45deg);\r\n  }\r\n`\r\n","import styled from \"styled-components\"\r\n\r\nexport const SvgContainer = styled.div<{\r\n  height?: number\r\n  width?: number\r\n}>`\r\n  height: auto;\r\n  width: auto;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  & svg {\r\n    height: ${props => (props.height ? `${props.height}px` : \"100%\")};\r\n    width: ${props => (props.width ? `${props.width}px` : \"100%\")};\r\n  }\r\n`\r\n","import React, { FunctionComponent } from \"react\"\r\nimport { SvgContainer } from \"./svgicon-styles\"\r\n\r\ninterface IProps {\r\n  Icon: React.FunctionComponent<React.SVGProps<SVGSVGElement>>\r\n  width?: number\r\n  height?: number\r\n}\r\n\r\nconst SvgIcon: FunctionComponent<IProps> = props => {\r\n  const { Icon } = props\r\n  return (\r\n    <SvgContainer {...props}>\r\n      <Icon />\r\n    </SvgContainer>\r\n  )\r\n}\r\n\r\nexport default SvgIcon\r\n","import React, {\r\n  ChangeEvent,\r\n  FunctionComponent,\r\n  useState,\r\n  useEffect,\r\n  useRef,\r\n  ReactElement,\r\n  KeyboardEvent\r\n} from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport { rootStore } from \"../../store/RootStore\"\r\nimport {\r\n  FinderInput,\r\n  FinderResultsContainer,\r\n  FinderContainer,\r\n  SingleResult,\r\n  ResultText,\r\n  ClearInput,\r\n  ResultIcon\r\n} from \"./finder-styles\"\r\nimport { ArticleModel } from \"../../store/models/article\"\r\nimport SvgIcon from \"../shared/SvgIcon/svgIcon\"\r\nimport { chooseIcon } from \"../../utils/chooseIcon\"\r\n\r\ninterface Props {\r\n  store?: typeof rootStore\r\n}\r\n\r\nconst Finder: FunctionComponent<Props> = ({ store }) => {\r\n  const [finderValue, setFinderValue] = useState<string>(\"\")\r\n  const [results, setResults] = useState<ArticleModel[]>([])\r\n  const [resultsVisible, setResultsVisible] = useState<boolean>(false)\r\n  const [activeOption, setActiveOption] = useState<number>(0)\r\n  const resultsRef = useRef(null)\r\n\r\n  useEffect(() => {\r\n    const handleOutsideClick = (ev: Event) => {\r\n      if (resultsRef.current && !resultsRef.current.contains(ev.target)) {\r\n        setResultsVisible(false)\r\n      }\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleOutsideClick)\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleOutsideClick)\r\n    }\r\n  }, [resultsRef])\r\n\r\n  const handleKeyNav = (e: KeyboardEvent) => {\r\n    if (e.keyCode === 40) {\r\n      activeOption + 1 >= results.length + 1\r\n        ? setActiveOption(1)\r\n        : setActiveOption(activeOption + 1)\r\n    }\r\n\r\n    if (e.keyCode === 38) {\r\n      activeOption - 1 < 1\r\n        ? setActiveOption(results.length)\r\n        : setActiveOption(activeOption - 1)\r\n    }\r\n\r\n    if (e.keyCode === 13) {\r\n      setArticle(results[activeOption - 1])\r\n    }\r\n  }\r\n\r\n  const handleInputChange = (e: ChangeEvent): void => {\r\n    const eventTarget = e.currentTarget as HTMLInputElement\r\n    const finderValue = eventTarget.value\r\n    setFinderValue(finderValue)\r\n    const results = store.articleStore.articles.filter(el =>\r\n      el.name.toLowerCase().includes(finderValue.trim().toLowerCase())\r\n    )\r\n    if (finderValue.length >= 3 && results.length >= 1) {\r\n      setResults(results)\r\n      setResultsVisible(true)\r\n      return\r\n    }\r\n    setResults([])\r\n    setResultsVisible(false)\r\n  }\r\n\r\n  const setArticle = (article: ArticleModel): void => {\r\n    setResultsVisible(false)\r\n    setFinderValue(\"\")\r\n    store.articleStore.toggle(article.identifier)\r\n    setResults([])\r\n  }\r\n\r\n  const renderResults = (): ReactElement => {\r\n    return (\r\n      <FinderResultsContainer ref={resultsRef}>\r\n        {results.map((el, idx) => {\r\n          return (\r\n            <SingleResult\r\n              type={el.type}\r\n              onClick={() => setArticle(el)}\r\n              isActive={idx + 1 === activeOption}\r\n              onMouseEnter={() => setActiveOption(idx + 1)}\r\n            >\r\n              <ResultIcon>\r\n                <SvgIcon Icon={chooseIcon(el.type)} />\r\n              </ResultIcon>\r\n              <ResultText>{el.name}</ResultText>\r\n            </SingleResult>\r\n          )\r\n        })}\r\n      </FinderResultsContainer>\r\n    )\r\n  }\r\n\r\n  const handleClear = (): void => {\r\n    setFinderValue(\"\")\r\n    setResults([])\r\n  }\r\n\r\n  return (\r\n    <FinderContainer>\r\n      <FinderInput\r\n        type=\"text\"\r\n        placeholder=\"Search\"\r\n        onChange={e => handleInputChange(e)}\r\n        onFocus={() => setResultsVisible(true)}\r\n        value={finderValue}\r\n        onKeyDown={handleKeyNav}\r\n      />\r\n      {finderValue.length >= 3 && <ClearInput onClick={() => handleClear()} />}\r\n      {resultsVisible && renderResults()}\r\n    </FinderContainer>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(Finder))\r\n","import React, { FunctionComponent } from \"react\"\r\nimport { observer, inject } from \"mobx-react\"\r\nimport {\r\n  NavbarContainer,\r\n  NavbarTop,\r\n  NavbarBottom,\r\n  NavigationLinks,\r\n  NavigationItem,\r\n  NavigationIcon,\r\n  NaviLink,\r\n  SearchIconSvg,\r\n  NavbarLogo,\r\n  NavbarSearch,\r\n  NavbarElement\r\n} from \"./navbar-styles\"\r\nimport { menuItems } from \"../../routing/routeConfig\"\r\nimport Finder from \"../Finder/finder\"\r\n\r\nconst Navbar: FunctionComponent = () => {\r\n  const generateLinks = () => {\r\n    return menuItems.map((item, index) => {\r\n      return (\r\n        <NavigationItem key={`nav-${index + 1}`}>\r\n          <NaviLink to={`${item.route}`} exact>\r\n            <NavigationIcon\r\n              src={require(`./../../static/icons/MODE_${item.name}.svg`)}\r\n            />\r\n            <p>{item.name}</p>\r\n          </NaviLink>\r\n        </NavigationItem>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <NavbarContainer className=\"main-navbar\">\r\n      <NavbarTop />\r\n      <NavbarBottom>\r\n        <NavbarLogo />\r\n        <NavbarSearch>\r\n          <SearchIconSvg />\r\n          <Finder />\r\n        </NavbarSearch>\r\n        <NavbarElement>\r\n          <NavigationLinks>{generateLinks()}</NavigationLinks>\r\n        </NavbarElement>\r\n      </NavbarBottom>\r\n    </NavbarContainer>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(Navbar))\r\n","interface Fonts {\r\n  [key: string]: string\r\n}\r\n\r\nexport const fonts: Fonts = {\r\n  base: \"Alegreya\",\r\n  baseSans: \"Alegreya Sans\",\r\n  second: \"Krub\"\r\n}\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\nimport { fonts } from \"../../../styles/font\"\r\n\r\nexport const TabContainer = styled.div`\r\n  padding: 0;\r\n  margin: 0 auto 1rem;\r\n  display: flex;\r\n`\r\n\r\nexport const TabIcon = styled.div<{\r\n  round: boolean\r\n  border: boolean\r\n  extend: number\r\n}>`\r\n  height: ${props => (props.extend ? `${props.extend}rem` : \"2.5rem\")};\r\n  min-width: 2.5rem;\r\n  border: ${props =>\r\n    props.border ? `2px solid ${colors.lightBrown}` : \"none\"};\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  border-radius: ${props => (props.round ? \"50%\" : \"unset\")};\r\n  position: relative;\r\n`\r\n\r\nexport const TabExtraIcon = styled.span`\r\n  position: absolute;\r\n  transform: translate(70%, -50%);\r\n  content: \"\";\r\n  height: 2rem;\r\n  width: 2rem;\r\n`\r\n\r\nexport const TabContent = styled.div<{\r\n  font?: string\r\n  fontColor?: string\r\n  italicFont?: boolean\r\n}>`\r\n  flex-grow: 1;\r\n  height: auto;\r\n  width: 100%;\r\n  border-top: 1px solid ${colors.green};\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  margin-left: 1rem;\r\n  padding-top: 1rem;\r\n  font-size: 1.4rem;\r\n  font-family: ${props => props.font || fonts.base}, sans-serif;\r\n  color: ${props => colors[props.fontColor] || \"currentColor\"};\r\n  font-style: ${props => (props.italicFont ? \"italic\" : \"normal\")};\r\n`\r\n","import React from \"react\"\r\nimport { inject, observer} from \"mobx-react\"\r\nimport {\r\n  TabContainer,\r\n  TabIcon,\r\n  TabContent,\r\n  TabExtraIcon\r\n} from \"./details-info-tab-styles\"\r\nimport Default from \"../../../static/flags/Default.svg\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\n\r\ninterface Props {\r\n  iconUrl?: string\r\n  icon?: string\r\n  content?: JSX.Element\r\n  round?: boolean\r\n  border?: boolean\r\n  founder?: boolean\r\n  founderIconUrl?: string\r\n  tabId: string\r\n  extend?: number\r\n  fontColor?: string\r\n  font?: string\r\n  column?: boolean\r\n  italicFont?: boolean\r\n  articleId?: any\r\n  store?: typeof rootStore\r\n}\r\n\r\nconst DetailsInfoTab: React.FC<Props> = props => {\r\n  const {\r\n    iconUrl,\r\n    content,\r\n    round,\r\n    border,\r\n    extend,\r\n    founder,\r\n    founderIconUrl,\r\n    tabId,\r\n    font,\r\n    fontColor,\r\n    italicFont,\r\n    articleId,\r\n    store\r\n  } = props\r\n\r\n  const renderTabContainer = () => {\r\n    return (\r\n      <TabContainer id={tabId}>\r\n        <TabIcon\r\n          round={round}\r\n          border={border}\r\n          extend={extend}\r\n          style={{\r\n            backgroundImage: `url(${iconUrl || `${Default}`})`\r\n          }}\r\n        >\r\n          {founder && (\r\n            <TabExtraIcon\r\n              style={{\r\n                backgroundImage: `url(${founderIconUrl || `${Default}`})`\r\n              }}\r\n            />\r\n          )}\r\n        </TabIcon>\r\n        <TabContent font={font} italicFont={italicFont} fontColor={fontColor}>\r\n          {content}\r\n        </TabContent>\r\n      </TabContainer>\r\n    )\r\n  }\r\n\r\n  const isContent =\r\n    content && content.props.children && content.props.children.length\r\n\r\n  return isContent ? renderTabContainer() : null\r\n}\r\n\r\nexport default inject(\"store\")(observer(DetailsInfoTab))\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \"\\r\\n      .cls-white{fill:#fff; stroke: #fff; stroke-width: 0.2}\\r\\n    \"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"cls-white\",\n  d: \"M0 2.47h6v.5H0z\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"cls-white\",\n  transform: \"rotate(-60 -20.104 1087.54)\",\n  d: \"M927.93 564.88h6v.5h-6z\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"cls-white\",\n  transform: \"rotate(-29.9 -586.126 2021.564)\",\n  d: \"M930.69 562.13h.5v6h-.5z\"\n});\n\nvar SvgIconBorn = function SvgIconBorn(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 6 5.45\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIconBorn, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/icon_born.8a2921bb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n  id: \"clip-path\",\n  transform: \"translate(-1003.18 -541.5)\"\n}, React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M1003.18 541.5h3v5.83h-3z\"\n})), React.createElement(\"style\", null, \"\\r\\n      .cls-3{fill:none;stroke:#fff;stroke-width:.5px}\\r\\n    \"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  clipPath: \"url(#clip-path)\"\n}, React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M1.5 0v5.83M3 2.08H0\"\n}));\n\nvar SvgIconDead = function SvgIconDead(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Warstwa_1\",\n    \"data-name\": \"Warstwa 1\",\n    viewBox: \"0 0 3 5.83\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIconDead, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/icon_dead.f356153b.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\n\r\nexport const DetailsTop = styled.div<{ column: boolean }>`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: ${props => (props.column ? `column` : \"row\")};\r\n  align-items: flex-start;\r\n  font-family: \"Alegreya Sans\", sans-serif;\r\n`\r\n\r\nexport const DetailsTopItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0 0.5rem 0.5rem 0;\r\n\r\n  & svg {\r\n    margin: 0.5rem 0;\r\n    width: 1.25rem;\r\n    height: 1.25rem;\r\n  }\r\n`\r\n\r\nexport const DetailsContainer = styled.div`\r\n  height: 100%;\r\n  overflow-y: auto;\r\n\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`\r\n\r\nexport const WritingsList = styled.ul`\r\n  padding: 0 0 0 1.5rem;\r\n\r\n  li {\r\n    padding-left: -0.5rem;\r\n    color: ${colors.green};\r\n  }\r\n`\r\n\r\nexport const WritingsTitle = styled.span`\r\n  color: ${colors.lightBrown};\r\n`\r\n\r\nexport const WritingsYear = styled.span`\r\n  color: ${colors.green};\r\n  margin-left: 0.5rem;\r\n  font-weight: 700;\r\n`\r\n\r\nexport const DetailsTitle = styled.span`\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    text-decoration: underline;\r\n    text-decoration-color: ${colors.lightBrown};\r\n  }\r\n`\r\n","import React, { FunctionComponent } from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport { apiUrls } from \"../../../store/api/api\"\r\nimport DetailsInfoTab from \"./details-info-tab\"\r\nimport Fields from \"../../../static/icons/fields.svg\"\r\nimport FounderIcon from \"../../../static/icons/current_founder_.svg\"\r\nimport MainIdeas from \"../../../static/icons/current.svg\"\r\nimport Ideas from \"../../../static/icons/idea.svg\"\r\nimport Politics from \"../../../static/icons/politics.svg\"\r\nimport Events from \"../../../static/icons/events.svg\"\r\nimport Influences from \"../../../static/icons/influences.svg\"\r\nimport Influenced from \"../../../static/icons/influenced.svg\"\r\nimport Literature from \"../../../static/icons/text.svg\"\r\nimport Person from \"../../../static/icons/person.svg\"\r\nimport { ReactComponent as Born } from \"../../../static/icons/icon_born.svg\"\r\nimport { ReactComponent as Dead } from \"../../../static/icons/icon_dead.svg\"\r\nimport SvgIcon from \"../../shared/SvgIcon/svgIcon\"\r\nimport {\r\n  DetailsTop,\r\n  DetailsTopItem,\r\n  DetailsTitle,\r\n  WritingsList,\r\n  WritingsTitle,\r\n  WritingsYear\r\n} from \"../details-list-info/details-list-info-styles\"\r\nimport { BaseInfo, Writing } from \"../../../store/models/types\"\r\nimport { ArticleModel } from \"../../../store/models/article\"\r\nimport { fonts } from \"../../../styles/font\"\r\nimport { getYear } from \"../../../utils/formatDate\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\n\r\ntype ArticleOptions = ArticleModel & { [key: string]: any }\r\n\r\ninterface IProps {\r\n  articleType: string\r\n  details: ArticleModel\r\n  store?: typeof rootStore\r\n}\r\n\r\ninterface IDetailsType {\r\n  [key: string]: JSX.Element\r\n}\r\n\r\nconst DetailsInfoTabSpecific: ({\r\n  articleType,\r\n  details\r\n}: IProps) => JSX.Element = ({ articleType, details }: IProps) => {\r\n  const getProperFunction = (tabInfo: string): JSX.Element => {\r\n    const detailsTabs: IDetailsType = {\r\n      baseInfo: baseInfoDetails(details),\r\n      literature: literatureDetails(details),\r\n      influenced: influencedDetails(details),\r\n      influences: influencesDetails(details),\r\n      politics: politicsDetails(details),\r\n      ideas: ideasDetails(details),\r\n      mainIdeas: mainIdeasDetails(details),\r\n      events: eventsDetails(details),\r\n      professions: professionsDetails(details),\r\n      relatedPersons: relatedPersonDetails(details)\r\n    }\r\n    return detailsTabs[tabInfo]\r\n  }\r\n\r\n  const renderGeneralInfo = (details: ArticleModel) => {\r\n    const nationality = details.nationality\r\n      ? details.nationality.name\r\n      : \"Global guy\"\r\n    return (\r\n      <DetailsTop column>\r\n        <DetailsTopItem>\r\n          {nationality},{\"  \"}\r\n        </DetailsTopItem>\r\n        <DetailsTopItem>\r\n          <SvgIcon Icon={Born} />{\" \"}\r\n          <span style={{ marginLeft: \"0.5rem\" }}>\r\n            {details.startPlace || \"Born\"},{\" \"}\r\n          </span>\r\n        </DetailsTopItem>\r\n        <DetailsTopItem>\r\n          <SvgIcon Icon={Dead} />{\" \"}\r\n          <span style={{ marginLeft: \"0.5rem\" }}>\r\n            {details.EndPlace || \"Died\"}\r\n          </span>\r\n        </DetailsTopItem>\r\n      </DetailsTop>\r\n    )\r\n  }\r\n\r\n  const renderTextInfo = (details: ArticleOptions, specificDetail: string) => {\r\n    const detailsList = details[specificDetail].sort(\r\n      (a: BaseInfo & Writing, b: BaseInfo & Writing) => {\r\n        const prev = a.name.toLowerCase()\r\n        const next = b.name.toLowerCase()\r\n\r\n        if (prev < next) return -1\r\n        if (prev > next) return 1\r\n        return 0\r\n      }\r\n    )\r\n\r\n    return (\r\n      <div>\r\n        {detailsList &&\r\n          detailsList.map((item: BaseInfo & Writing, idx: number) => {\r\n            return (\r\n              <DetailsTitle\r\n                key={item.name}\r\n                onClick={() =>\r\n                  rootStore.articleStore.toggle(`${item.type}-${item.id}`)\r\n                }\r\n              >\r\n                {item.name || item.title}\r\n                {idx < detailsList.length - 1 ? \", \" : \"\"}\r\n              </DetailsTitle>\r\n            )\r\n          })}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const renderWritingsInfo = (\r\n    details: ArticleOptions,\r\n    specificDetail: string\r\n  ) => {\r\n    const detailsList = details[specificDetail]\r\n    return (\r\n      <WritingsList>\r\n        {detailsList &&\r\n          detailsList.map((item: Writing, idx: number) => {\r\n            return (\r\n              <li key={`${item.id}-writing}`}>\r\n                <WritingsTitle>{item.title}</WritingsTitle>\r\n                {item.publicated && (\r\n                  <WritingsYear>({getYear(item.publicated)})</WritingsYear>\r\n                )}\r\n              </li>\r\n            )\r\n          })}\r\n      </WritingsList>\r\n    )\r\n  }\r\n\r\n  const renderEvent = (): JSX.Element => {\r\n    const eventConfig = [\r\n      \"baseInfo\",\r\n      \"profession\",\r\n      \"mainIdeas\",\r\n      \"ideas\",\r\n      \"politics\",\r\n      \"events\",\r\n      \"influences\",\r\n      \"influenced\",\r\n      \"literature\"\r\n    ]\r\n    return <>A</>\r\n  }\r\n\r\n  const renderOrganisation = (): JSX.Element => {\r\n    const organisationConfig = [\r\n      \"baseInfo\",\r\n      \"mainIdeas\",\r\n      \"ideas\",\r\n      \"politics\",\r\n      \"events\",\r\n      \"relatedPersons\",\r\n      \"literature\"\r\n    ]\r\n    return (\r\n      <>\r\n        {organisationConfig.map((element: string) => {\r\n          return getProperFunction(element)\r\n        })}\r\n      </>\r\n    )\r\n  }\r\n\r\n  const renderPerson = (): JSX.Element => {\r\n    const personConfig = [\r\n      \"baseInfo\",\r\n      \"professions\",\r\n      \"mainIdeas\",\r\n      \"ideas\",\r\n      \"politics\",\r\n      \"events\",\r\n      \"influences\",\r\n      \"influenced\",\r\n      \"literature\"\r\n    ]\r\n    return (\r\n      <>\r\n        {personConfig.map((element: string) => {\r\n          return getProperFunction(element)\r\n        })}\r\n      </>\r\n    )\r\n  }\r\n\r\n  const eventsDetails = (details: ArticleModel) => {\r\n    return (\r\n      <DetailsInfoTab\r\n        tabId=\"relatedEvents\"\r\n        iconUrl={Events}\r\n        content={renderTextInfo(details, \"relatedEvent\")}\r\n        key={`${details.id}-event`}\r\n      />\r\n    )\r\n  }\r\n\r\n  const baseInfoDetails = (details: ArticleModel): JSX.Element => {\r\n    const flagDetails =\r\n      details && details.nationality && details.nationality.flag\r\n    return (\r\n      <DetailsInfoTab\r\n        tabId=\"baseInfo\"\r\n        iconUrl={flagDetails ? `${apiUrls.baseUrl}/${flagDetails.url}` : null}\r\n        border\r\n        column\r\n        content={renderGeneralInfo(details)}\r\n        key={`${details.id}-info`}\r\n      />\r\n    )\r\n  }\r\n\r\n  const relatedPersonDetails = (details: ArticleModel) => {\r\n    return (\r\n      <DetailsInfoTab\r\n        tabId=\"relatedPersons\"\r\n        iconUrl={Person}\r\n        content={renderTextInfo(details, \"relatedPerson\")}\r\n        key={`${details.id}-rel-person`}\r\n      />\r\n    )\r\n  }\r\n\r\n  const professionsDetails = (details: ArticleModel) => {\r\n    return (\r\n      <DetailsInfoTab\r\n        tabId=\"professions\"\r\n        iconUrl={Fields}\r\n        fontColor=\"darkBlue\"\r\n        font={fonts.baseSans}\r\n        content={renderTextInfo(details, \"professions\")}\r\n        key={`${details.id}-profession`}\r\n      />\r\n    )\r\n  }\r\n\r\n  const mainIdeasDetails = (details: ArticleModel) => {\r\n    const mainPrecursor = details && !!details.precursor.length\r\n    return (\r\n      <DetailsInfoTab\r\n        tabId=\"mainIdeas\"\r\n        iconUrl={MainIdeas}\r\n        founder={mainPrecursor}\r\n        founderIconUrl={FounderIcon}\r\n        fontColor=\"woodBrown\"\r\n        font={fonts.baseSans}\r\n        content={renderTextInfo(details, \"mainideas\")}\r\n        key={`${details.id}-mainidea`}\r\n      />\r\n    )\r\n  }\r\n\r\n  const ideasDetails = (details: ArticleModel) => {\r\n    const ideaPrecursor = details && !!details.ideaPrecursor.length\r\n\r\n    return (\r\n      <DetailsInfoTab\r\n        tabId=\"ideas\"\r\n        iconUrl={Ideas}\r\n        founder={ideaPrecursor}\r\n        founderIconUrl={FounderIcon}\r\n        fontColor=\"woodBrown\"\r\n        font={fonts.baseSans}\r\n        content={renderTextInfo(details, \"ideas\")}\r\n        key={`${details.id}-idea`}\r\n      />\r\n    )\r\n  }\r\n\r\n  const politicsDetails = (details: ArticleModel) => {\r\n    return (\r\n      <DetailsInfoTab\r\n        tabId=\"politics\"\r\n        iconUrl={Politics}\r\n        fontColor=\"regularRed\"\r\n        font={fonts.baseSans}\r\n        content={renderTextInfo(details, \"relatedOrg\")}\r\n        key={`${details.id}-politics`}\r\n      />\r\n    )\r\n  }\r\n\r\n  const influencesDetails = (details: ArticleModel) => {\r\n    return (\r\n      <DetailsInfoTab\r\n        tabId=\"influences\"\r\n        extend={3.5}\r\n        iconUrl={Influences}\r\n        font={fonts.base}\r\n        content={renderTextInfo(details, \"influences\")}\r\n        key={`${details.id}-influence`}\r\n        articleId={details}\r\n      />\r\n    )\r\n  }\r\n\r\n  const influencedDetails = (details: ArticleModel) => {\r\n    return (\r\n      <DetailsInfoTab\r\n        tabId=\"influenced\"\r\n        extend={3.5}\r\n        iconUrl={Influenced}\r\n        font={fonts.base}\r\n        content={renderTextInfo(details, \"influenced\")}\r\n        key={`${details.id}-influenced`}\r\n        articleId={details}\r\n      />\r\n    )\r\n  }\r\n\r\n  const literatureDetails = (details: ArticleModel) => {\r\n    return (\r\n      <DetailsInfoTab\r\n        tabId=\"literature\"\r\n        iconUrl={Literature}\r\n        round\r\n        fontColor=\"lightBrown\"\r\n        italicFont\r\n        content={renderWritingsInfo(details, \"writings\")}\r\n        key={`${details.id}-literature`}\r\n      />\r\n    )\r\n  }\r\n\r\n  const renderSwitch = (type: string): JSX.Element => {\r\n    switch (type) {\r\n      case \"person\":\r\n        return renderPerson()\r\n      case \"event\":\r\n        return renderEvent()\r\n      case \"organisation\":\r\n        return renderOrganisation()\r\n      default:\r\n        return renderPerson()\r\n    }\r\n  }\r\n\r\n  return renderSwitch(articleType)\r\n}\r\n\r\nexport default inject(\"store\")(observer(DetailsInfoTabSpecific))\r\n","import styled, { keyframes } from \"styled-components\"\r\nimport { CustomMarker } from \"../../Marker/marker-styles\"\r\nimport { Options } from \"./scroll-indicator.model\"\r\n\r\nconst getPosition = (pos: string = \"center\") => {\r\n  switch (pos) {\r\n    case \"right\":\r\n      return \"95%\"\r\n    case \"left\":\r\n      return \"5%\"\r\n    case \"center\":\r\n      return \"50%\"\r\n    default:\r\n      return \"50%\"\r\n  }\r\n}\r\n\r\nconst indicatorKeyframes = keyframes`\r\n  0% { bottom: 1.5rem; opacity: 1; }\r\n  50% { bottom: 0.2rem; opacity: 0.2; }\r\n  100% { bottom: 1.5rem; opacity: 1; }\r\n`\r\n\r\nexport const Indicator = styled(CustomMarker)<{ options?: Options, active?: boolean }>`\r\n  position: sticky;\r\n  left: ${props =>\r\n    props.options ? getPosition(props.options.position) : getPosition()};\r\n  -webkit-animation: ${indicatorKeyframes} 2s infinite ease-in-out;\r\n  animation: ${indicatorKeyframes} 2s infinite ease-in-out;\r\n  z-index: 10;\r\n  display: ${props => (props.active ? \"block\" : \"none\")};\r\n`\r\n","import styled from \"styled-components\"\r\n\r\nexport const BottomGradient = styled.div<{ active?: boolean }>`\r\n  content: \"\";\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 12rem;\r\n  pointer-events: none;\r\n  opacity: ${props => (props.active ? \"1\" : \"0\")};\r\n  background: linear-gradient(transparent 0, rgba(0, 57, 63, 1));\r\n  transition: opacity 1s;\r\n`\r\n","import React, { FunctionComponent } from \"react\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { Indicator } from \"./scroll-indicator-styles\"\r\nimport { checkIfScrollable } from \"../../../utils/scrollableElement\"\r\nimport { Options } from \"./scroll-indicator.model\"\r\nimport { BottomGradient } from \"../Styles/shared-styled-components\";\r\n\r\ninterface IProps {\r\n  container?: HTMLElement\r\n  options?: Options\r\n}\r\n\r\nexport const ScrollIndicator: FunctionComponent<IProps> = ({\r\n  container,\r\n  options\r\n}) => {\r\n  const [isScrollNeeded, setScrollValue] = useState<boolean>(true)\r\n  const [isScrollable, setScrollable] = useState<boolean>(false)\r\n\r\n  const handleScroll = (): void => {\r\n    const scrollDiv = container\r\n    const result =\r\n      scrollDiv.scrollTop < scrollDiv.scrollHeight - scrollDiv.clientHeight ||\r\n      scrollDiv.scrollTop === 0\r\n\r\n    setScrollValue(result)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setScrollable(checkIfScrollable(container))\r\n    container.addEventListener(\"scroll\", handleScroll)\r\n    return () => container.removeEventListener(\"scroll\", handleScroll)\r\n  }, [container, handleScroll])\r\n\r\n  return (\r\n    isScrollable && (\r\n      <>\r\n        <Indicator active={isScrollNeeded} options={options} />\r\n        <BottomGradient\r\n          active={\r\n            container.scrollTop !==\r\n            container.scrollHeight - container.clientHeight\r\n          }\r\n        />\r\n      </>\r\n    )\r\n  )\r\n}\r\n","export const checkIfScrollable = (el: HTMLElement) => {\r\n  return el && el.scrollHeight > el.offsetHeight\r\n}\r\n","import React from \"react\"\r\nimport { observer, inject } from \"mobx-react\"\r\nimport { useRef } from \"react\"\r\nimport { ArticleModel } from \"../../../store/models/article\"\r\nimport DetailsInfoTabSpecific from \"../details-info-tab/details-info-tab-specific\"\r\nimport { ScrollIndicator } from \"../../shared/ScrollIndicator/scroll-indicator\"\r\nimport { DetailsContainer } from \"./details-list-info-styles\"\r\n\r\nexport interface Props {\r\n  details: ArticleModel\r\n}\r\n\r\nconst renderTypeDetails = (details: ArticleModel): JSX.Element => {\r\n  const { type } = details\r\n  return <DetailsInfoTabSpecific articleType={type} details={details} />\r\n}\r\n\r\nconst DetailListInfo: React.FC<Props> = props => {\r\n  const scrollDiv = useRef(null)\r\n  const { details } = props\r\n  return (\r\n    <div className=\"content-list-info content-list-info-detailed\">\r\n      <DetailsContainer ref={scrollDiv}>\r\n        {details && renderTypeDetails(details)}\r\n        {scrollDiv.current && <ScrollIndicator container={scrollDiv.current} />}\r\n      </DetailsContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(DetailListInfo))\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\nimport wikiIcon from \"../../../static/icons/wiki.svg\"\r\n\r\nexport const DetailsTopContainer = styled.div`\r\n  position: relative;\r\n  margin-top: -4rem;\r\n`\r\n\r\nexport const ElementTitle = styled.h1`\r\n  text-align: center;\r\n  font-size: 2rem;\r\n  margin: 0 auto;\r\n  width: 75%;\r\n  font-family: \"Alegreya\", sans-serif;\r\n  font-weight: 800;\r\n`\r\n\r\nexport const ElementDate = styled.p`\r\n  text-align: center;\r\n  font-size: 1.4rem;\r\n  color: ${colors.lightBrown};\r\n  font-family: \"Krub\", sans-serif;\r\n`\r\n\r\nexport const ElementAgedDate = styled.span`\r\n  display: inline-block;\r\n`\r\n\r\nexport const ElementLink = styled.a`\r\n  position: absolute;\r\n  height: 3rem;\r\n  width: 3rem;\r\n  background-image: url(${wikiIcon});\r\n  background-size: 100% 100%;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  border-radius: 50%;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nexport const MainImage = styled.div<{ bookmarkActive: boolean }>`\r\n  position: relative;\r\n  top: -50px;\r\n  width: 16rem;\r\n  border: 0.5rem solid ${colors.darkGreen};\r\n  min-height: 16rem;\r\n  border-radius: 50%;\r\n  background-color: ${colors.darkGreen};\r\n  background-image: url(\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6x-rKSUYJJ6aa673JE2ZsjVcvhoIL6v3tAI_1X8Br56U4VrrL&s\");\r\n  background-size: cover;\r\n  margin: 0 auto;\r\n\r\n  &::after {\r\n    position: absolute;\r\n    content: \"\";\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0 0 0 0.5rem ${colors.lightBrown};\r\n    opacity: ${props => (props.bookmarkActive ? \"1\" : \"0\")};\r\n    border-radius: 50%;\r\n    transition: 0.5s;\r\n  }\r\n`\r\n\r\nexport const BookmarkContainer = styled.div`\r\n  position: absolute;\r\n  right: 1rem;\r\n  top: 2.3rem;\r\n  height: 3rem;\r\n  width: 50%;\r\n`\r\n\r\nexport const Bookmark = styled.div<{ bookmarkActive: boolean }>`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  cursor: pointer;\r\n  stroke: ${props => (props.bookmarkActive ? colors.lightBrown : colors.green)};\r\n  fill: none;\r\n  transition: stroke 0.1s;\r\n\r\n  svg {\r\n    transition: 0.3s;\r\n    width: 2.2rem;\r\n  }\r\n  \r\n  &::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    height: 2px;\r\n    background: ${colors.lightBrown};\r\n    right: 1rem;\r\n    width: 0;\r\n    z-index: -1;\r\n    transition: 0.5s;\r\n  }\r\n  \r\n  &::before {\r\n  ${props => props.bookmarkActive && ` width: 10vw;`}\r\n`\r\n\r\nexport const DetailsContainer = styled.div`\r\n  //height: 62%;\r\n  overflow-y: auto;\r\n  margin-top: 2rem;\r\n  padding-right: 1rem;\r\n  text-align: justify;\r\n\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`\r\n\r\nexport const DetailsText = styled.div`\r\n  font-size: 1.5rem;\r\n  color: ${colors.lightBrown};\r\n  padding-bottom: 2rem;\r\n  font-family: \"Alegreya\", sans-serif;\r\n`\r\n\r\nexport const WikiLinkContainer = styled.div`\r\n  height: 3rem;\r\n  width: 100%;\r\n  position: relative;\r\n\r\n  &:before {\r\n    content: \"\";\r\n    width: 90%;\r\n    border: 1px solid ${colors.lightBrown};\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n  }\r\n`\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n  id: \"a\",\n  transform: \"translate(-976.31 -593.65)\"\n}, React.createElement(\"path\", {\n  d: \"M976.31 593.65h10.47v12.43h-10.47z\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  clipPath: \"url(#a)\"\n}, React.createElement(\"path\", {\n  d: \"M.5.5v10.99l4.73-3.23 4.74 3.23V.5H.5z\"\n}));\n\nvar SvgBookmarkOff = function SvgBookmarkOff(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    \"data-name\": \"Warstwa 1\",\n    viewBox: \"0 0 10.47 12.43\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBookmarkOff, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bookmark_off.72c83890.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\r\nimport { observer, inject } from \"mobx-react\"\r\nimport { useEffect, useRef, useState } from \"react\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\nimport {\r\n  ElementTitle,\r\n  MainImage,\r\n  DetailsContainer,\r\n  DetailsTopContainer,\r\n  DetailsText,\r\n  ElementLink,\r\n  ElementDate,\r\n  ElementAgedDate,\r\n  WikiLinkContainer,\r\n  Bookmark,\r\n  BookmarkContainer\r\n} from \"./details-main-info-styles\"\r\nimport { apiUrls } from \"../../../store/api/api\"\r\nimport { formatDate, calculateAge } from \"../../../utils/formatDate\"\r\nimport { ArticleModel } from \"../../../store/models/article\"\r\nimport EventIcon from \"../../../static/icons/events.svg\"\r\nimport PoliticsIcon from \"../../../static/icons/politics.svg\"\r\nimport CharacterIcon from \"../../../static/icons/person.svg\"\r\nimport SvgIcon from \"../../shared/SvgIcon/svgIcon\"\r\nimport { ReactComponent as BookmarkOff } from \"../../../static/icons/bookmark_off.svg\"\r\nimport { ScrollIndicator } from \"../../shared/ScrollIndicator/scroll-indicator\"\r\nimport { BottomGradient } from \"../../shared/Styles/shared-styled-components\"\r\n\r\nexport interface IProps {\r\n  store?: typeof rootStore\r\n  details: ArticleModel\r\n}\r\n\r\nconst renderImage = (details: ArticleModel): string => {\r\n  if (!details)\r\n    return CharacterIcon\r\n  if (details && details.image) {\r\n    return `${apiUrls.baseUrl}${details.image.url}`\r\n  }\r\n  const { type } = details\r\n  switch (type) {\r\n    case \"person\":\r\n      return `${apiUrls.baseUrl}${details.image.url}`\r\n    case \"event\":\r\n      return EventIcon\r\n    case \"organisation\":\r\n      return PoliticsIcon\r\n    default:\r\n      return EventIcon\r\n  }\r\n}\r\n\r\ninterface IBookmarkItem {\r\n  id: string\r\n}\r\n\r\nconst DetailMainInfo: React.FC<IProps> = props => {\r\n  const [isBookmarked, setBookmark] = useState(false)\r\n  const { details } = props\r\n  const scrollDiv = useRef(null)\r\n\r\n  const setBookmarkStatus = (id: string) => {\r\n    const bookmarks = props.store.articleStore.userBookmarks\r\n    const newCollection = isInStorage(id)\r\n      ? bookmarks.filter((item: IBookmarkItem) => item.id !== id)\r\n      : bookmarks.concat({ id })\r\n    window.localStorage.setItem(\"userBookmarks\", JSON.stringify(newCollection))\r\n    props.store.articleStore.setUserBookmarks(newCollection)\r\n    setBookmark(isInStorage(id))\r\n  }\r\n\r\n  const isInStorage = (id: string) => {\r\n    const bookmarks = window.localStorage.getItem(\"userBookmarks\")\r\n    const itemsCollection = JSON.parse(bookmarks) || []\r\n    return itemsCollection.some((item: IBookmarkItem) => item.id === id)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (details) {\r\n      const isViewBookmarked = isInStorage(details.identifier)\r\n      setBookmark(isViewBookmarked)\r\n    }\r\n  }, [props])\r\n\r\n  return (\r\n    <div\r\n      className=\"content-list-info content-main-info\"\r\n      style={{ position: \"relative\" }}\r\n      data-is-bookmarked={isBookmarked}\r\n    >\r\n      <MainImage\r\n        bookmarkActive={isBookmarked}\r\n        style={{ backgroundImage: `url(${renderImage(details)}` }}\r\n      />\r\n      <BookmarkContainer\r\n        onClick={() => setBookmarkStatus(details.identifier)}\r\n      >\r\n        <Bookmark bookmarkActive={isBookmarked}>\r\n          <SvgIcon Icon={BookmarkOff} />\r\n        </Bookmark>\r\n      </BookmarkContainer>\r\n      <DetailsTopContainer>\r\n        <ElementTitle>{details ? details.name : \"Element Name\"}</ElementTitle>\r\n        <WikiLinkContainer>\r\n          <ElementLink\r\n            href={details && details.wikipediaLink ? details.wikipediaLink : \"\"}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          />\r\n        </WikiLinkContainer>\r\n        <ElementDate>\r\n          {details && `${formatDate(details.startDate)} - ${formatDate(details.endDate)}`}\r\n          {\" \"}<ElementAgedDate>{details && details.type === \"person\" && `(aged ${calculateAge(details.startDate, details.endDate)})`}</ElementAgedDate>\r\n        </ElementDate>\r\n      </DetailsTopContainer>\r\n\r\n      <DetailsContainer ref={scrollDiv}>\r\n        <DetailsText>\r\n          {details\r\n            ? details.description\r\n            : `Lorem ipsum dolor sit amet, vis et omnis dicit. His reque dicit no\r\n          Eam et eros vivendum splendide, at mel semper eloquentiam, per ei\r\n          dolor intellegam. Nam ferri impedit facilisi ex, falli error aperiri\r\n          sed in. Ex detracto electram mei. Ne simul tempor his, ei diam esse\r\n          assentior usu. Ullum complectitur pro at. Usu et mutat solet soluta,\r\n          usu ut esse consequuntur. Ius no aperiri civibus, ne usu ipsum paulo\r\n          malorum. Ne vis diam bonorum tibique, quo diam perfecto ex, dicam\r\n          iuvaret sit an. Id pri option accusata, te sapientem voluptatibus per.\r\n          An qui sumo principes scripserit, vel cu veniam platonem intellegebat.\r\n          Vis et choro sensibus, graeco aliquid eam ad, nam harum alienum eu.\r\n          Eos te decore adversarium liberavisse, an vim tale platonem\r\n          conclusionemque, ne mel homero invidunt forensibus. No sit civibus\r\n          officiis. Eam te dicunt hendrerit scripserit. Ei semper delectus\r\n          voluptaria duo, minim conclusionemque quo cu, ut sea aliquip accusam.\r\n          Recusabo salutatus nam ut, decore persius vix an. No eum quidam\r\n          fuisset prodesset, errem maluisset rationibus vix ex. Veri praesent\r\n          dissentiunt ei has, te bonorum oporteat nam. Est et brute nonumes.\r\n          Nisl congue iriure ex mei. Nam purto erat ea, vis ignota suavitate\r\n          dissentiunt et. No mea modus iudico, per cu dico laudem abhorreant.\r\n          Est deleniti invidunt no, in his viris elaboraret. No nam solum\r\n          ancillae, nec no inani labore dissentiunt. Et nibh nusquam scribentur\r\n          ius, eos in habeo verear civibus.`}\r\n          {scrollDiv.current && (\r\n            <ScrollIndicator container={scrollDiv.current} />\r\n          )}\r\n        </DetailsText>\r\n      </DetailsContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(DetailMainInfo))\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../styles/colors\"\r\nimport { fonts } from \"../../styles/font\"\r\n\r\nexport const DetailsMainContainer = styled.div`\r\n  -webkit-box-shadow: 0px 0px 4rem 0px rgba(0, 57, 63, 0.8);\r\n  -moz-box-shadow: 0px 0px 4rem 0px rgba(0, 57, 63, 0.8);\r\n  box-shadow: 0px 0px 4rem 0px rgba(0, 57, 63, 0.8);\r\n  background-color: ${colors.darkGreen};\r\n  padding: 1rem;\r\n  display: flex;\r\n  height: 100%;\r\n  font-family: ${fonts.base};\r\n`","import * as React from \"react\"\r\nimport { observer, inject } from \"mobx-react\"\r\nimport { rootStore } from \"../../store/RootStore\"\r\nimport DetailListInfo from \"./details-list-info/details-list-info\"\r\nimport DetailMainInfo from \"./details-main-info/details-main-info\"\r\nimport { DetailsMainContainer } from \"./index-styles\"\r\n\r\nexport interface IProps {\r\n  store?: typeof rootStore\r\n}\r\n\r\nconst DetailPanel: React.FC<IProps> = props => {\r\n  const { store } = props\r\n  const details = store.articleStore.chosenArticle\r\n  return (\r\n    <DetailsMainContainer>\r\n      <DetailListInfo details={details} />\r\n      <DetailMainInfo details={details} />\r\n    </DetailsMainContainer>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(DetailPanel))\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../styles/colors\"\r\nimport DatePaneRight from \"../../static/icons/date_r.svg\"\r\nimport DatePaneLeft from \"../../static/icons/date_l.svg\"\r\n\r\nexport const TimelineContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  z-index: 5;\r\n  height: auto;\r\n`\r\n\r\nexport const TimelineContent = styled.div`\r\n  height: 60%;\r\n  width: 95%;\r\n  position: relative;\r\n\r\n  &:before,\r\n  &:after {\r\n    position: absolute;\r\n    content: \"\";\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 33%;\r\n    z-index: 10;\r\n    pointer-events: none;\r\n  }\r\n\r\n  &:before {\r\n    left: 0;\r\n    background: linear-gradient(to right, rgba(0, 57, 63, 1), transparent);\r\n  }\r\n\r\n  &:after {\r\n    right: 0;\r\n    background: linear-gradient(to left, rgba(0, 57, 63, 1), transparent);\r\n  }\r\n`\r\n\r\nexport const TimelineFrames = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n  //pointer-events: none;\r\n`\r\n\r\nconst TimelineFrame = styled.div`\r\n  width: 49.5%;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  border-top: 0.1rem solid ${colors.green};\r\n`\r\n\r\nexport const TimelineFrameLeft = styled(TimelineFrame)`\r\n  background-image: url(${DatePaneLeft});\r\n  background-position: 100%;\r\n  position: relative;\r\n  \r\n  //&:after {\r\n  //  content: \"\";\r\n  //  position: absolute;\r\n  //  bottom: 0;\r\n  //  right: 0;\r\n  //  height: 30px;\r\n  //  width: 50px;\r\n  //  background-color: peru;\r\n  //}\r\n`\r\n\r\nexport const TimelineFrameRight = styled(TimelineFrame)`\r\n  background-image: url(${DatePaneRight});\r\n`\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\n\r\nexport const TimelineDateContainer = styled.div`\r\n  height: 4rem;\r\n  margin: 0 auto;\r\n  width: 14rem;\r\n  color: ${colors.lightBrown};\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nexport const TimelineDate = styled.input`\r\n  font-size: 36px;\r\n  margin: 0 1rem;\r\n  padding: 0;\r\n  font-family: \"Krub\", sans-serif;\r\n  font-weight: 200;\r\n  border: none;\r\n  width: 8rem;\r\n  background: transparent;\r\n  color: ${colors.lightBrown};\r\n\r\n  &:focus {\r\n    outline: 1px solid ${colors.lightBrown};\r\n  }\r\n`\r\n\r\nexport const TimeArrow = styled.div<{\r\n  direction: string\r\n  double?: boolean\r\n  primary?: boolean\r\n  isActive: boolean\r\n}>`\r\n  position: relative;\r\n  padding: 0.75rem;\r\n  box-shadow: 1px -1px 0 1px ${props =>\r\n    props.primary ? colors.lightBrown : colors.green} inset;\r\n  -webkit-box-shadow: 2px -2px ${props =>\r\n    props.primary ? colors.lightBrown : colors.green} inset;\r\n  border: solid transparent;\r\n  border-width: 0 0 1rem 1rem;\r\n  transition: 0.2s;\r\n  cursor: pointer;\r\n  transform: ${props =>\r\n    props.direction === \"left\" ? \"rotate(45deg)\" : \"rotate(225deg)\"};\r\n  opacity: ${props => (props.isActive ? \"1\" : \"0.2\")};\r\n  pointer-events: ${props => (props.isActive ? \"normal\" : \"none\")};\r\n  \r\n   &:hover {\r\n    box-shadow: 2px -2px 0 2px ${props => props.primary ? colors.lightBrown : colors.green} inset;\r\n    -webkit-box-shadow: 4px -4px ${props => props.primary ? colors.lightBrown : colors.green} inset;\r\n  }\r\n\r\n  &:after {\r\n  ${props =>\r\n    props.double &&\r\n    `\r\n    position: absolute;\r\n    content: \"\";\r\n    padding: 0.75rem;\r\n    box-shadow: 1px -1px 0 1px ${colors.lightBrown} inset;\r\n    -webkit-box-shadow: 2px -2px ${colors.lightBrown} inset;\r\n    border: solid transparent;\r\n    border-width: 0.5rem 0.5rem 1rem 1rem;\r\n    transition: 0.2s;\r\n    cursor: pointer;\r\n    top: 0;\r\n    right: 0;\r\n  `}\r\n`\r\n","import React, { useEffect, useState } from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport {\r\n  TimeArrow,\r\n  TimelineDate,\r\n  TimelineDateContainer\r\n} from \"./timeline-date-picker-styles\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\nimport Loader from \"../../shared/Loader/loader\"\r\n\r\ninterface IFollowingYears {\r\n  previousYear?: number\r\n  nextYear?: number\r\n}\r\n\r\ninterface Props {\r\n  store?: typeof rootStore\r\n  currentYear: number\r\n  timelineData: IYearsData[]\r\n}\r\n\r\ninterface IFollowingYears {\r\n  previousYear?: number\r\n  nextYear?: number\r\n}\r\n\r\ninterface IYearsData {\r\n  year: number\r\n  isData: boolean\r\n}\r\n\r\nconst TimelineDatePicker: React.FC<Props> = props => {\r\n  const { store, currentYear, timelineData } = props\r\n  const [value, setValue] = useState(currentYear)\r\n  const [yearsSet, setYears] = useState<IFollowingYears>({})\r\n  const isNotLastYear = store.articleStore.lastYear !== currentYear\r\n  const isNotFirstYear = store.articleStore.firstYear !== currentYear\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { value } = e.target\r\n    setValue(parseInt(value, 10))\r\n    if (value.length >= 4) store.articleStore.setYear(parseInt(value, 10))\r\n  }\r\n\r\n  const handleNextEvent = (): void => {\r\n    store.articleStore.setYear(yearsSet.nextYear)\r\n  }\r\n\r\n  const handlePrevEvent = (): void => {\r\n    store.articleStore.setYear(yearsSet.previousYear)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setValue(currentYear)\r\n  }, [currentYear])\r\n\r\n  useEffect(() => {\r\n    timelineData.length > 1 &&\r\n      setYears(calculateFollowingYears(props.timelineData))\r\n  }, [timelineData, currentYear])\r\n\r\n  const calculateFollowingYears = (arr: IYearsData[]): IFollowingYears => {\r\n    const previousYear = arr\r\n      .filter(yearElem => yearElem.year < currentYear && yearElem.isData)\r\n      .pop()\r\n    const nextYear = arr\r\n      .filter(yearElem => yearElem.year > currentYear && yearElem.isData)\r\n      .shift()\r\n\r\n    return {\r\n      previousYear: previousYear && previousYear.year,\r\n      nextYear: nextYear && nextYear.year\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TimelineDateContainer>\r\n      <TimeArrow\r\n        direction=\"left\"\r\n        double\r\n        primary\r\n        onClick={() => handlePrevEvent()}\r\n        title=\"Previous with data\"\r\n        isActive={isNotFirstYear}\r\n      />\r\n      <TimeArrow\r\n        direction=\"left\"\r\n        onClick={() => store.articleStore.decrementYear()}\r\n        title=\"Previous year\"\r\n        isActive={isNotFirstYear}\r\n      />\r\n      {currentYear ? (\r\n        <TimelineDate\r\n          onChange={e => handleChange(e)}\r\n          value={value || \"\"}\r\n          maxLength={4}\r\n          minLength={4}\r\n        />\r\n      ) : (\r\n        <Loader regular />\r\n      )}\r\n      <TimeArrow\r\n        direction=\"right\"\r\n        onClick={() => store.articleStore.incrementYear()}\r\n        title=\"Next year\"\r\n        isActive={isNotLastYear}\r\n      />\r\n      <TimeArrow\r\n        direction=\"right\"\r\n        double\r\n        primary\r\n        onClick={() => handleNextEvent()}\r\n        title=\"Next with data\"\r\n        isActive={isNotLastYear}\r\n      />\r\n    </TimelineDateContainer>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(TimelineDatePicker))\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\nimport { fonts } from \"../../../styles/font\"\r\n\r\nexport const TimelineYearlineContainer = styled.div<{ translateVal: number }>`\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n\r\n  ul {\r\n    padding: 0;\r\n    margin: 0;\r\n    position: absolute;\r\n    width: auto;\r\n    transform: translate3d(${props => props.translateVal}px, 0, 0) translateY(-50%);\r\n    top: 50%;\r\n    transition: transform 0.5s cubic-bezier(0.46, 0.03, 0.52, 0.96);\r\n  }\r\n`\r\n\r\nexport const TimelineDot = styled.li<{ isData: boolean }>`\r\n  margin: 0 0.5rem;\r\n  float: left;\r\n  list-style: none;\r\n  position: relative;\r\n  cursor: pointer;\r\n\r\n  span:first-child {\r\n    display: inline-block;\r\n    height: 0.5rem;\r\n    width: 0.5rem;\r\n    border-radius: 50%;\r\n    background-color: ${props =>\r\n      props.isData ? colors.lightBrown : colors.green};\r\n  }\r\n`\r\n\r\nexport const TimelineDate = styled.span<{ isHidden: boolean }>`\r\n  position: absolute;\r\n  top: 2.5rem;\r\n  left: 50%;\r\n  width: 5rem;\r\n  height: 5px;\r\n  transform: translateX(-52%);\r\n  font-size: 1.6rem;\r\n  font-family: ${fonts.second};\r\n  text-align: center;\r\n  opacity: ${props => (props.isHidden ? 0 : 1)};\r\n  transition: 0.5s;\r\n  transition-delay: 0.25s;\r\n\r\n  &:before {\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 1.3rem;\r\n    width: 0.1rem;\r\n    background-color: ${colors.lightBrown};\r\n    top: -1.3rem;\r\n    left: 50%;\r\n  }\r\n`\r\n","export const range = (start: number, end: number): number[] => {\r\n  if (start === end) return [start]\r\n  return [start, ...range(start + 1, end)]\r\n}","import React, { FunctionComponent, useEffect, useRef, useState } from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport {\r\n  TimelineDate,\r\n  TimelineDot,\r\n  TimelineYearlineContainer\r\n} from \"./timeline-yearline-styles\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\nimport { range } from \"../../../utils/range\"\r\n\r\ninterface YearsData {\r\n  year: number\r\n  isData: boolean\r\n}\r\n\r\ninterface IProps {\r\n  store?: typeof rootStore\r\n  timelineData: YearsData[]\r\n  timelineWidth: number\r\n}\r\n\r\nconst usePrevious = (value: any): number => {\r\n  const ref = useRef()\r\n  useEffect(() => {\r\n    if (value) ref.current = value\r\n  })\r\n  return ref.current\r\n}\r\n\r\nconst TimelineYearline: FunctionComponent<IProps> = ({\r\n  store,\r\n  timelineData,\r\n  timelineWidth\r\n}) => {\r\n  const { currentYear } = store.articleStore\r\n  const [timelineVal, setTimelineVal] = useState(0)\r\n  // const [scrollPos, setScrollPos] = useState(0)\r\n\r\n  const containerRef = useRef(null)\r\n  const previousVal = usePrevious(currentYear)\r\n\r\n  const getDotWidth = (): number => {\r\n    return timelineWidth / timelineData.length\r\n  }\r\n\r\n  const handleTimelinePosition = () => {\r\n    const difference = Math.abs(previousVal - currentYear) * getDotWidth()\r\n    if (previousVal > currentYear) {\r\n      setTimelineVal(timelineVal + difference)\r\n    } else {\r\n      setTimelineVal(timelineVal - difference)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const initialValue =\r\n      timelineWidth -\r\n      containerRef.current.clientWidth / 2 -\r\n      Math.ceil(getDotWidth() / 2)\r\n    setTimelineVal(-Math.abs(initialValue))\r\n  }, [timelineData])\r\n\r\n  useEffect(() => {\r\n    handleTimelinePosition()\r\n    getHideRange()\r\n  }, [currentYear])\r\n\r\n  useEffect(() => {\r\n    const handleScroll = (e: WheelEvent) => {\r\n      if (e.deltaY === 100 || e.deltaY === 3) store.articleStore.incrementYear()\r\n      if (e.deltaY === -100 || e.deltaY === -3)\r\n        store.articleStore.decrementYear()\r\n    }\r\n\r\n    containerRef.current.addEventListener(\"wheel\", (e: WheelEvent) =>\r\n      handleScroll(e)\r\n    )\r\n\r\n    return () => containerRef.current.removeEventListener(\"wheel\", handleScroll)\r\n  }, [])\r\n\r\n  const getHideRange = (): number[] => {\r\n    const start = currentYear - 4\r\n    const end = currentYear + 4\r\n    return range(start, end)\r\n  }\r\n\r\n  return (\r\n    <TimelineYearlineContainer ref={containerRef} translateVal={timelineVal}>\r\n      <ul style={{ width: `${timelineWidth}px` }}>\r\n        {timelineData.map(dot => {\r\n          const { year, isData } = dot\r\n          return (\r\n            <TimelineDot\r\n              isData={isData}\r\n              onClick={() => store.articleStore.setYear(year)}\r\n              key={year}\r\n            >\r\n              <span />\r\n              {year % 10 === 0 && (\r\n                <TimelineDate isHidden={getHideRange().includes(year)}>\r\n                  {year}\r\n                </TimelineDate>\r\n              )}\r\n            </TimelineDot>\r\n          )\r\n        })}\r\n      </ul>\r\n    </TimelineYearlineContainer>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(TimelineYearline))\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\n\r\nexport const TimelineMenuContainer = styled.div`\r\n  width: 5%;\r\n  text-align: center;\r\n  color: ${colors.lightBrown};\r\n  font-size: 1.2rem;\r\n  text-transform: uppercase;\r\n  border-left: 0.1rem solid ${colors.green};\r\n`\r\n\r\nexport const TimelineMenuOptions = styled.div`\r\n  display: flex;\r\n`\r\n\r\nexport const TimelineOption = styled.div<{\r\n  option: string\r\n  active?: boolean\r\n}>`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex: 1;\r\n  height: 3rem;\r\n  cursor: pointer;\r\n\r\n  svg {\r\n    height: 2rem;\r\n    width: 2rem;\r\n    fill: ${props => (props.active ? colors.lightBrown : colors.green)};\r\n  }\r\n`\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M2.2,5l2.7,5l2.6-5H2.2z M5.4,5h-1V1H0V0h5.4V5z\"\n});\n\nvar SvgTimelineCumulative = function SvgTimelineCumulative(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 7.5 10\",\n    style: {\n      enableBackground: \"new 0 0 7.5 10\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTimelineCumulative, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/timeline_cumulative.0c25d4e0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0,5l2.7,5l2.6-5H0z M3.1,5h-1V0h1V5z\"\n});\n\nvar SvgTimelineYear = function SvgTimelineYear(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 5.3 10\",\n    style: {\n      enableBackground: \"new 0 0 5.3 10\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTimelineYear, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/timeline_year.75b1e312.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FunctionComponent } from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\nimport {\r\n  TimelineMenuContainer,\r\n  TimelineMenuOptions,\r\n  TimelineOption\r\n} from \"./timeline-menu-styles\"\r\nimport SvgIcon from \"../../shared/SvgIcon/svgIcon\"\r\nimport { ReactComponent as Cumulative } from \"../../../static/icons/timeline_cumulative.svg\"\r\nimport { ReactComponent as Single } from \"../../../static/icons/timeline_year.svg\"\r\nimport { FiltersTime } from \"../../../store/models/filterModel\"\r\n\r\ninterface IProps {\r\n  store?: typeof rootStore\r\n}\r\n\r\nconst TimelineMenu: FunctionComponent<IProps> = props => {\r\n  const { store } = props\r\n  const activeOption = store.articleStore.activeFilters.time\r\n\r\n  const switchTimelineType = (option: FiltersTime): void => {\r\n    store.articleStore.setFilter(option)\r\n  }\r\n\r\n  return (\r\n    <TimelineMenuContainer>\r\n      Timeline Marker Options\r\n      <TimelineMenuOptions>\r\n        <TimelineOption\r\n          onClick={() => switchTimelineType(\"CUMULATIVE\")}\r\n          option=\"firebrick\"\r\n          active={activeOption === \"CUMULATIVE\"}\r\n        >\r\n          <SvgIcon Icon={Cumulative} height={60} />\r\n        </TimelineOption>\r\n        <TimelineOption\r\n          onClick={() => switchTimelineType(\"BY_YEAR\")}\r\n          option=\"white\"\r\n          active={activeOption === \"BY_YEAR\"}\r\n        >\r\n          <SvgIcon Icon={Single} />\r\n        </TimelineOption>\r\n      </TimelineMenuOptions>\r\n    </TimelineMenuContainer>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(TimelineMenu))\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../styles/colors\"\r\n\r\nexport const EventCardContainer = styled.div<{ opened: boolean }>`\r\n  position: absolute;\r\n  top: ${props => (props.opened ? \"-15rem\" : \"0\")};\r\n  left: 50%;\r\n  right: 50%;\r\n  transform: translateX(-50%);\r\n  padding: 1rem;\r\n  height: 13rem;\r\n  min-width: 20rem;\r\n  width: fit-content;\r\n  background-color: ${colors.darkGreen};\r\n  transition: all 0.3s;\r\n  transition-timing-function: cubic-bezier(.17, .67, .47, 1.27);\r\n  opacity: ${props => (props.opened ? \"1\" : \"0\")};\r\n  pointer-events: ${props => (props.opened ? \"auto\" : \"none\")};\r\n`\r\n\r\nexport const EventCardContent = styled.div`\r\n  height: 100%;\r\n  border: 0.1rem solid ${colors.green};\r\n  padding: 0.5rem 0;\r\n  overflow-y: scroll;\r\n\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n\r\n  &::after {\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 3rem;\r\n    width: 1px;\r\n    left: 50%;\r\n    bottom: -3.5rem;\r\n    transform: translate(-50%, -50%);\r\n    background-color: ${colors.green};\r\n  }\r\n`\r\n\r\nexport const EventCardClose = styled.span`\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 0;\r\n  transform: translateY(-50%);\r\n  cursor: pointer;\r\n\r\n  &::after {\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 2rem;\r\n    border-left: 2px solid ${colors.lightBrown};\r\n    transform: rotate(45deg);\r\n  }\r\n  \r\n  &::before {\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 2rem;\r\n    border-left: 2px solid ${colors.lightBrown};\r\n    transform: rotate(-45deg);\r\n  }\r\n`\r\n\r\nexport const EventCardOpener = styled.div<{ opened: boolean }>`\r\n  position: absolute;\r\n  left: 50%;\r\n  top: -0.5rem;\r\n  transform: translateX(-50%) rotate(-135deg);\r\n  border: solid ${colors.lightBrown};\r\n  border-width: 0 0.2rem 0.2rem 0;\r\n  padding: 0.2rem;\r\n  cursor: pointer;\r\n  transition: opacity 0.3s;\r\n  opacity: ${props => (props.opened ? \"0\" : \"1\")};\r\n`\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\n\r\nexport const EventCardLineC = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0.5rem 1rem;\r\n  padding: 0.5rem 0;\r\n  border-bottom: 0.1rem solid ${colors.green};\r\n  font-size: 1.4rem;\r\n  height: 3rem;\r\n\r\n  > div {\r\n    height: 100%;\r\n  }\r\n\r\n  svg {\r\n    width: auto;\r\n    margin-right: 1rem;\r\n  }\r\n`\r\n","import * as React from \"react\"\r\nimport { EventCardLineC } from \"./event-card-line-styles\"\r\nimport { ReactComponent as PersonIcon } from \"../../../static/icons/person.svg\"\r\nimport { ReactComponent as EventIcon } from \"../../../static/icons/events.svg\"\r\nimport { ReactComponent as OrganisationIcon } from \"../../../static/icons/politics.svg\"\r\nimport SvgIcon from \"../../shared/SvgIcon/svgIcon\"\r\n\r\ninterface Props {\r\n  type: string\r\n  name: string\r\n}\r\n\r\nconst choosePhrase = (type: string): string => {\r\n  switch (type) {\r\n    case \"person\":\r\n      return \"is born\"\r\n    case \"event\":\r\n      return \"started\"\r\n    case \"organisation\":\r\n      return \"was founded\"\r\n    case \"literature\":\r\n      return \"is written\"\r\n    default:\r\n      return \"oops! it happened.\"\r\n  }\r\n}\r\n\r\nconst chooseIcon = (type: string): React.FunctionComponent<React.SVGProps<SVGSVGElement>> => {\r\n  switch (type) {\r\n    case \"person\":\r\n      return PersonIcon\r\n    case \"organisation\":\r\n      return OrganisationIcon\r\n    case \"event\":\r\n      return EventIcon\r\n    default:\r\n      return PersonIcon\r\n  }\r\n}\r\n\r\nconst EventCardLine: React.FC<Props> = props => {\r\n  const { name, type } = props\r\n  return (\r\n    <EventCardLineC>\r\n      <SvgIcon Icon={chooseIcon(type)} />\r\n      <p>\r\n        {name} {choosePhrase(type)}\r\n      </p>\r\n    </EventCardLineC>\r\n  )\r\n}\r\n\r\nexport default EventCardLine\r\n","import * as React from \"react\"\r\nimport { useEffect, useRef, useState } from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport { getYear } from \"../../utils/formatDate\"\r\nimport { ArticleModel } from \"../../store/models/article\"\r\nimport { rootStore } from \"../../store/RootStore\"\r\nimport {\r\n  EventCardContainer,\r\n  EventCardContent,\r\n  EventCardClose,\r\n  EventCardOpener\r\n} from \"./event-card-styles\"\r\nimport EventCardLine from \"./event-card-line/event-card-line\"\r\nimport { ScrollIndicator } from \"../shared/ScrollIndicator/scroll-indicator\";\r\n\r\ninterface IProps {\r\n  store?: typeof rootStore\r\n}\r\n\r\nconst EventCard: React.FC<IProps> = props => {\r\n  const [isOpened, setOpen] = useState(false)\r\n  const [yearEvents, setYearEvents] = useState([])\r\n  const scrollDiv = useRef(null)\r\n\r\n  const getCurrentYearArticles = () => {\r\n    const { articleStore } = props.store\r\n    const currentYearArticles = articleStore.articles.filter(\r\n      (article: ArticleModel) =>\r\n        getYear(article.startDate) === articleStore.currentYear\r\n    )\r\n    setYearEvents(currentYearArticles)\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCurrentYearArticles()\r\n  }, [props.store.articleStore.currentYear])\r\n\r\n  return (\r\n    <>\r\n      <EventCardOpener opened={isOpened} onClick={() => setOpen(true)} />\r\n      <EventCardContainer opened={isOpened}>\r\n        <EventCardClose onClick={() => setOpen(false)} />\r\n        <EventCardContent ref={scrollDiv}>\r\n          {yearEvents.map(event => (\r\n            <EventCardLine type={event.type} name={event.name} key={event.id} />\r\n          ))}\r\n          {isOpened && (\r\n            <ScrollIndicator\r\n              options={{ position: \"right\" }}\r\n              container={scrollDiv.current}\r\n            />\r\n          )}\r\n        </EventCardContent>\r\n      </EventCardContainer>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(EventCard))\r\n","import React, { FunctionComponent } from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport { useEffect, useState } from \"react\"\r\nimport {\r\n  TimelineContainer,\r\n  TimelineContent,\r\n  TimelineFrames,\r\n  TimelineFrameLeft,\r\n  TimelineFrameRight\r\n} from \"./index-styles\"\r\nimport TimelineDatePicker from \"./timeline-date-picker/timeline-date-picker\"\r\nimport TimelineYearline from \"./timeline-yearline/timeline-yearline\"\r\nimport TimelineMenu from \"./timeline-menu/timeline-menu\"\r\nimport { rootStore } from \"../../store/RootStore\"\r\nimport { getYear } from \"../../utils/formatDate\"\r\nimport { range } from \"../../utils/range\"\r\nimport EventCard from \"../EventCard/event-card\"\r\n\r\ninterface IYearsData {\r\n  year: number\r\n  isData: boolean\r\n}\r\n\r\ninterface IProps {\r\n  store?: typeof rootStore\r\n}\r\n\r\nconst Timeline: FunctionComponent<IProps> = ({ store }) => {\r\n  const [yearsData, setData] = useState([])\r\n  const [isData, setIsData] = useState<boolean>()\r\n  const { currentYear } = store.articleStore\r\n  const yearRange = store.articleStore.lastYear - store.articleStore.firstYear\r\n\r\n  const calculateTimelineWidth = (): number => {\r\n    return (yearRange + 1) * 15\r\n  }\r\n\r\n  useEffect(() => {\r\n    const isData: boolean = yearsData.filter((el: IYearsData) => el.year === currentYear && el.isData).length > 0\r\n    setIsData(isData)\r\n  }, [yearsData, currentYear])\r\n\r\n  useEffect(() => {\r\n    const { firstYear, lastYear } = store.articleStore\r\n    const yearsWithData = Array.from(\r\n      new Set(store.articleStore.articles.map(el => getYear(el.startDate)))\r\n    )\r\n    const yearsRange = range(firstYear, lastYear)\r\n    const yearsDataArray = yearsRange.map(yearElement => ({\r\n      year: yearElement,\r\n      isData: yearsWithData.includes(yearElement)\r\n    }))\r\n    setData(yearsDataArray)\r\n  }, [yearRange])\r\n\r\n  return (\r\n    <TimelineContainer>\r\n      <TimelineMenu />\r\n      <TimelineContent>\r\n        <TimelineFrames>\r\n          {isData && <EventCard />}\r\n          <TimelineFrameLeft />\r\n          <TimelineFrameRight />\r\n        </TimelineFrames>\r\n        <TimelineYearline\r\n          timelineData={yearsData}\r\n          timelineWidth={calculateTimelineWidth()}\r\n        />\r\n        <TimelineDatePicker\r\n          timelineData={yearsData}\r\n          currentYear={currentYear}\r\n        />\r\n      </TimelineContent>\r\n    </TimelineContainer>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(Timeline))\r\n","import styled, { css } from \"styled-components/macro\"\r\nimport { keyframes } from \"styled-components\";\r\nimport { colors } from \"../../styles/colors\"\r\n\r\nexport const UserBookmarksContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  height: 6rem;\r\n  margin-left: 3rem;\r\n  border-bottom: 0.1rem solid ${colors.lightBrown};\r\n  border-left: 0.1rem solid ${colors.lightBrown};\r\n`\r\n\r\nexport const UserBookmarksText = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  height: 100%;\r\n`\r\n\r\nexport const OptionsText = styled.p`\r\n  font-size: 1.4rem;\r\n  padding: 0.5rem 1rem;\r\n  color: ${colors.lightBrown};\r\n\r\n  &:first-child {\r\n    border-bottom: 0.2rem solid ${colors.green};\r\n  }\r\n`\r\n\r\nexport const UserRecentlyViewedItems = styled.div`\r\n  display: flex;\r\n  flex-basis: 85%;\r\n  justify-content: flex-end;\r\n`\r\n\r\nexport const UserBookmarksItems = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n  align-items: center;\r\n  width: 65%;\r\n  height: 3rem;\r\n  top: 75%;\r\n  right: 0;\r\n`\r\n\r\nconst bookmarkLoader = keyframes`\r\n  0% {\r\n    transform: scale(0.95);\r\n    box-shadow: 0 0 0 0 rgba(51, 217, 178, 0.7);\r\n  }\r\n  \r\n  70% {\r\n    transform: scale(1);\r\n    box-shadow: 0 0 0 5px rgba(51, 217, 178, 0);\r\n  }\r\n  \r\n  100% {\r\n    transform: scale(0.95);\r\n    box-shadow: 0 0 0 0 rgba(51, 217, 178, 0);\r\n  }\r\n`\r\n\r\nexport const UserStorageItem = styled.div<{ isActive?: boolean }>`\r\n  height: 2.5rem;\r\n  width: 2.5rem;\r\n  background-color: ${colors.green};\r\n  border-radius: 50%;\r\n  background-size: cover;\r\n  transform: scale(1);\r\n  cursor: ${props => !props.isActive ? \"not-allowed\" : \"pointer\"};\r\n  animation: ${props =>\r\n    !props.isActive ? css`2s infinite ${bookmarkLoader}` : \"none\"};\r\n`\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\n\r\nexport const UserBookmarksPlaceholder = styled.p`\r\n  font-size: 1.8rem;\r\n  color: ${colors.lightBrown};\r\n  background-color: ${colors.darkGreen};\r\n  padding: 0 0.5rem;\r\n`\r\n","import { ArticleModel } from \"../store/models/article\"\nimport { apiUrls } from \"../store/api/api\"\nimport EventIcon from \"../static/icons/events.svg\"\nimport PoliticsIcon from \"../static/icons/politics.svg\"\n\nexport const renderImage = (details: ArticleModel): string => {\n  if (details && details.image) {\n    return `${apiUrls.baseUrl}${details.image.url}`\n  }\n  const { type } = details\n  switch (type) {\n    case \"person\":\n      return `${apiUrls.baseUrl}${details.image.url}`\n    case \"event\":\n      return EventIcon\n    case \"organisation\":\n      return PoliticsIcon\n    default:\n      return \"\"\n  }\n}\n","import * as React from \"react\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\nimport { UserStorageItem } from \"../index-styles\"\r\nimport { UserBookmarksPlaceholder } from \"./bookmarks-items-styles\"\r\nimport { ArticleModel } from \"../../../store/models/article\"\r\nimport { IUserBookmark } from \"../../../store/models/articleDetails\"\r\nimport { renderImage } from \"../../../utils/renderImage\"\r\n\r\nexport interface IProps {\r\n  store?: typeof rootStore\r\n  itemsThreshold: number\r\n}\r\n\r\nconst BookmarksItems: React.FC<IProps> = props => {\r\n  const { userBookmarks } = props.store.articleStore\r\n  const areArticlesSet = props.store.articleStore.articles.length > 0\r\n  const [bookmarks, setBookmarks] = useState([])\r\n\r\n  useEffect(() => {\r\n    setBookmarks(userBookmarks)\r\n  }, [areArticlesSet])\r\n\r\n  const getArticlesFromBookmarks = () => {\r\n    const bookmarksId = bookmarks.map(bookmark => Object.values(bookmark)[0])\r\n    const bookmarkedArticles = props.store.articleStore.articles.filter(\r\n      article => bookmarksId.includes(article.identifier)\r\n    )\r\n    return bookmarkedArticles.length > props.itemsThreshold\r\n      ? bookmarkedArticles.slice(\r\n          bookmarkedArticles.length - props.itemsThreshold\r\n        )\r\n      : bookmarkedArticles\r\n  }\r\n\r\n  const renderBookmarksItems = () => {\r\n    const articles = getArticlesFromBookmarks()\r\n    if (!areArticlesSet) {\r\n      return bookmarks\r\n        .slice(0, props.itemsThreshold)\r\n        .map((bookmark: IUserBookmark, idx) => (\r\n          <UserStorageItem key={`${bookmark.id}-${idx}`} />\r\n        ))\r\n    }\r\n    return articles.map((bookmark: ArticleModel) => (\r\n      <UserStorageItem\r\n        isActive\r\n        key={bookmark.id}\r\n        style={{ backgroundImage: `url(${renderImage(bookmark)}` }}\r\n        onClick={() => rootStore.articleStore.toggle(bookmark.identifier)}\r\n        title={bookmark.name}\r\n      />\r\n    ))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {bookmarks.length ? (\r\n        renderBookmarksItems()\r\n      ) : (\r\n        <UserBookmarksPlaceholder>\r\n          Place for your bookmarks\r\n        </UserBookmarksPlaceholder>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(BookmarksItems))\r\n","import React from \"react\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\nimport { UserStorageItem } from \"../index-styles\"\r\nimport { ArticleModel } from \"../../../store/models/article\"\r\nimport { IUserBookmark } from \"../../../store/models/articleDetails\"\r\nimport { renderImage } from \"../../../utils/renderImage\"\r\n\r\nexport interface IProps {\r\n  store?: typeof rootStore\r\n  itemsThreshold: number\r\n}\r\n\r\nconst RecentlyViewed: React.FC<IProps> = props => {\r\n  const { recentlyViewed } = props.store.articleStore\r\n  const areArticlesSet = props.store.articleStore.articles.length > 0\r\n  const [recentItems, setRecentItems] = useState([])\r\n\r\n  useEffect(() => {\r\n    setRecentItems(recentlyViewed)\r\n  }, [areArticlesSet])\r\n\r\n  const getArticlesFromRecentlyViewed = () => {\r\n    const recentItemsId = recentItems.map(\r\n      recentItem => Object.values(recentItem)[0]\r\n    )\r\n    const recentViewedItems = recentItemsId.map(recentItem =>\r\n      props.store.articleStore.articles.find(\r\n        article => article.identifier === recentItem\r\n      )\r\n    )\r\n    return recentViewedItems.length > props.itemsThreshold\r\n      ? recentViewedItems.slice(recentViewedItems.length - props.itemsThreshold)\r\n      : recentViewedItems\r\n  }\r\n\r\n  const renderRecentViewedItems = () => {\r\n    const articles = getArticlesFromRecentlyViewed()\r\n    if (!areArticlesSet) {\r\n      return recentItems\r\n        .slice(0, props.itemsThreshold)\r\n        .map((bookmark: IUserBookmark, idx) => (\r\n          <UserStorageItem key={`${bookmark.id}-${idx}`} />\r\n        ))\r\n    }\r\n    return articles.map((bookmark: ArticleModel, idx) => (\r\n      <UserStorageItem\r\n        isActive\r\n        key={`${bookmark.identifier}-${idx}`}\r\n        style={{ backgroundImage: `url(${renderImage(bookmark)}` }}\r\n        onClick={() => rootStore.articleStore.toggle(bookmark.identifier)}\r\n        title={bookmark.name}\r\n      />\r\n    ))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {recentItems.length ? (\r\n        renderRecentViewedItems()\r\n      ) : (\r\n        <p>Place for recent viewed items</p>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(RecentlyViewed))\r\n","import React, { useEffect, useRef, useState } from \"react\"\r\nimport { observer, inject } from \"mobx-react\"\r\nimport { rootStore } from \"../../store/RootStore\"\r\nimport {\r\n  UserBookmarksContainer,\r\n  UserRecentlyViewedItems,\r\n  UserBookmarksText,\r\n  OptionsText,\r\n  UserBookmarksItems\r\n} from \"./index-styles\"\r\nimport BookmarksItems from \"./user-bookmarks-items/bookmarks-items\"\r\nimport RecentlyViewed from \"./recently-viewed/recently-viewed\"\r\n\r\nexport interface IProps {\r\n  store?: typeof rootStore\r\n}\r\n\r\nconst UserBookmarks: React.FC<IProps> = props => {\r\n  const recentlyViewedRef = useRef(null)\r\n  const [maxItems, setMaxItems] = useState(0)\r\n\r\n  useEffect(() => {\r\n    if (recentlyViewedRef.current) {\r\n      setMaxItems(Math.ceil(recentlyViewedRef.current.offsetWidth / 25))\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <UserBookmarksContainer>\r\n      <UserBookmarksText>\r\n        <OptionsText>RECENT:</OptionsText>\r\n        <OptionsText>BOOKMARKS:</OptionsText>\r\n      </UserBookmarksText>\r\n      <UserRecentlyViewedItems ref={recentlyViewedRef}>\r\n        <RecentlyViewed itemsThreshold={maxItems} />\r\n      </UserRecentlyViewedItems>\r\n      <UserBookmarksItems>\r\n        <BookmarksItems itemsThreshold={maxItems} />\r\n      </UserBookmarksItems>\r\n    </UserBookmarksContainer>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(UserBookmarks))\r\n","import styled from \"styled-components\"\r\n\r\nexport const FiltersContainer = styled.div<{\r\n  marginBottom?: boolean\r\n}>`\r\n  height: auto;\r\n  padding: 1rem 0.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: ${props => (props.marginBottom ? \"10rem\" : 0)};\r\n`\r\n\r\nexport const SingleFilterBox = styled.div`\r\n  width: 100%;\r\n  margin-bottom: 1rem;\r\n  position: relative;\r\n`\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\nimport StarIcon from \"../../../static/icons/icon_born.svg\"\r\n\r\nexport const FilterContainer = styled.div`\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nexport const FilterIconBox = styled.div`\r\n  width: 65%;\r\n  margin-right: 0.5rem;\r\n`\r\n\r\nexport const FilterCross = styled.div<{\r\n  isActive: boolean\r\n}>`\r\n  position: relative;\r\n  width: 1rem;\r\n\r\n  &::after {\r\n    position: absolute;\r\n    content: \"+\";\r\n    font-size: 2vh;\r\n    font-weight: bold;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n\r\n  &::before {\r\n    position: absolute;\r\n    content: \"\";\r\n    width: ${props => (props.isActive ? \"5rem\" : \"0\")};\r\n    height: 0.2rem;\r\n    background-color: ${colors.lightBrown};\r\n    z-index: 2000;\r\n  }\r\n`\r\n\r\nexport const FilterLine = styled.div<{\r\n  isActive: boolean\r\n}>`\r\n  position: relative;\r\n  width: 1rem;\r\n\r\n  &::after {\r\n    position: absolute;\r\n    left: -50%;\r\n    content: \"\";\r\n    width: 5rem;\r\n    height: 0.2rem;\r\n    background-color: #feeaca;\r\n  }\r\n\r\n  &::before {\r\n    position: absolute;\r\n    content: url(${StarIcon});\r\n    width: ${props => (props.isActive ? \"1.5rem\" : \"0\")};\r\n    top: -0.6rem;\r\n  }\r\n`\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"style\", null, \"\\r\\n    .st1{fill:none;stroke:#ffeaca}\\r\\n  \");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M0 0h16.1v16.1H0V0z\",\n  fill: \"#00393f\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"st1\",\n  d: \"M4.7 8.3h6.8V4.9H4.7m0-.5v7.3\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M4.5 8.3l6.6-3.1v3.1H4.5z\",\n  fill: \"#ffeaca\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M.5.5h15.1v15.1H.5V.5z\",\n  fill: \"none\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"st1\",\n  d: \"M.5.5h15.1v15.1H.5V.5z\"\n});\n\nvar SvgFlag = function SvgFlag(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Warstwa_1\",\n    x: 0,\n    y: 0,\n    viewBox: \"0 0 16.1 16.1\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFlag, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/flag.9c6114be.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \"\\n            .cls-2{fill:none;stroke:#da9d65}\\n        \"));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"#00393f\",\n  d: \"M.5.5h15.12v15.12H.5z\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"cls-2\",\n  d: \"M5.21 10.78l2.72-2.72-2.72-2.72M8.47 10.78l2.73-2.72-2.73-2.72\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  stroke: \"#ffeaca\",\n  fill: \"none\",\n  d: \"M.5.5h15.12v15.12H.5z\"\n});\n\nvar SvgCurrent = function SvgCurrent(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Warstwa_1\",\n    \"data-name\": \"Warstwa 1\",\n    viewBox: \"0 0 16.12 16.12\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCurrent, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/current.3d1dbee8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"style\", {\n  type: \"text/css\"\n}, \"\\r\\n\\t.st0{fill:#00393F;}\\r\\n\\t.st1{fill:none;stroke:#FFEACA;}\\r\\n\\t.st2{fill:none;stroke:#007DA6;}\\r\\n\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"fields\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 0.5,\n  y: 0.5,\n  className: \"st0\",\n  width: 15.1,\n  height: 15.1\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 0.5,\n  y: 0.5,\n  className: \"st1\",\n  width: 15.1,\n  height: 15.1\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 5.4,\n  y: 5.3,\n  className: \"st2\",\n  width: 5.4,\n  height: 5.4\n});\n\nvar SvgFields = function SvgFields(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Warstwa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 16.1 16.1\",\n    style: {\n      enableBackground: \"new 0 0 16.1 16.1\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2, title === undefined ? _ref3 : React.createElement(\"title\", null, title), _ref4, _ref5, _ref6);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFields, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/fields.9541552f.svg\";\nexport { ForwardRef as ReactComponent };","import React, { FunctionComponent } from \"react\"\r\nimport {\r\n  FilterCross,\r\n  FilterLine,\r\n  FilterContainer,\r\n  FilterIconBox,\r\n} from \"./filter-box-styles\"\r\nimport { ReactComponent as FlagIcon } from \"../../../static/icons/flag.svg\"\r\nimport { ReactComponent as CurrentIcon } from \"../../../static/icons/current.svg\"\r\nimport { ReactComponent as FieldsIcon } from \"../../../static/icons/fields.svg\"\r\nimport { ReactComponent as CharacterIcon } from \"../../../static/icons/person.svg\"\r\nimport { ReactComponent as EventIcon } from \"../../../static/icons/events.svg\"\r\nimport { ReactComponent as WritingIcon } from \"../../../static/icons/text.svg\"\r\nimport { ReactComponent as OrganisationIcon } from \"../../../static/icons/politics.svg\"\r\nimport SvgIcon from \"../../shared/SvgIcon/svgIcon\"\r\n\r\ninterface IProps {\r\n  filterType: string\r\n  clickHandler: Function\r\n  isActive: boolean\r\n  noCross?: boolean\r\n}\r\n\r\nconst FilterBox: FunctionComponent<IProps> = ({\r\n  filterType,\r\n  clickHandler,\r\n  isActive,\r\n  noCross\r\n}) => {\r\n  const renderIcon = (type: string) => {\r\n    switch (type) {\r\n      case \"mainideas\":\r\n        return CurrentIcon\r\n      case \"professions\":\r\n        return FieldsIcon\r\n      case \"person\":\r\n        return CharacterIcon\r\n      case \"event\":\r\n        return EventIcon\r\n      case \"writing\":\r\n        return WritingIcon\r\n      case \"organisation\":\r\n        return OrganisationIcon\r\n      default:\r\n        return FlagIcon\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FilterContainer onClick={() => clickHandler()}>\r\n      <FilterIconBox>\r\n        <SvgIcon Icon={renderIcon(filterType)} />\r\n      </FilterIconBox>\r\n      {noCross ? (\r\n        <FilterLine isActive={isActive} />\r\n      ) : (\r\n        <FilterCross isActive={isActive} />\r\n      )}\r\n    </FilterContainer>\r\n  )\r\n}\r\n\r\nexport default FilterBox\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\n\r\nexport const FilterTabContainer = styled.div<{\r\n  isActive: boolean\r\n}>`\r\n  position: absolute;\r\n  left: 120%;\r\n  top: 0;\r\n  background-color: ${colors.darkGreen};\r\n  padding: 1rem;\r\n  z-index: 2000;\r\n  min-width: 13rem;\r\n  min-height: 10rem;\r\n  max-height: 40rem;\r\n  overflow-y: ${props => (props.isActive ? \"auto\" : \"hidden\")};\r\n  overflow-x: hidden;\r\n  display: ${props => (props.isActive ? \"unset\" : \"none\")};\r\n  font-size: 1.6rem;\r\n`\r\n","import styled, { keyframes } from \"styled-components\"\nimport { colors } from \"../../../styles/colors\"\n\nconst rotate = keyframes`\n  from {\n    opacity: 0;\n    transform: rotate(0deg);\n  }\n  to {\n    opacity: 1;\n    transform: rotate(45deg);\n  }\n`\n\nexport const Checkbox = styled.div<{\n  scale?: number\n}>`\n  width: 1.5rem;\n  height: 1.5rem;\n  position: absolute;\n  top: 0;\n  transform: scale(${props => (props.scale ? props.scale : 1)});\n`\n\nexport const CheckboxExcluded = styled(Checkbox)`\n   ${Checkbox} + &::after {\n    animation-name: ${rotate};\n    animation-duration: 0.3s;\n    animation-fill-mode: forwards;\n  }\n\n  &::before {\n    position: absolute;\n    left: 45%;\n    top: 12%;\n    content: \"\";\n    height: 1.3rem;\n    border-left: 2px solid ${colors.regularRed};\n    transform: rotate(135deg);\n  }\n\n  &::after {\n    position: absolute;\n    left: 45%;\n    top: 12%;\n    content: \"\";\n    height: 1.3rem;\n    border-left: 2px solid ${colors.regularRed};\n    transform: rotate(-45deg);\n`\n\nexport const CheckboxIncluded = styled(Checkbox)`\n  &::after {\n    content: \"\";\n    position: absolute;\n    display: none;\n  }\n\n  ${Checkbox} + &::after {\n    display: block;\n    top: 0;\n    left: 0.45rem;\n    width: 30%;\n    height: 55%;\n    border: solid ${colors.lightGreen};\n    border-width: 0 0.2rem 0.2rem 0;\n    animation-name: ${rotate};\n    animation-duration: 0.3s;\n    animation-fill-mode: forwards;\n  }\n`\n\nexport const CheckmarkContainer = styled.div`\n  width: 1.5rem;\n  position: relative;\n`\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\nimport { Checkbox } from \"../../shared/Checkmark/checkmark-styles\"\r\nimport {\r\n  CheckboxIncluded,\r\n  CheckboxExcluded\r\n} from \"../../shared/Checkmark/checkmark-styles\"\r\n\r\nexport const CheckboxLabel = styled.label`\r\n  position: relative;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  margin: 0.5rem 0 0 2.5rem;\r\n`\r\n\r\nexport const FilterCheckboxIndicator = styled(Checkbox)`\r\n  left: -2.5rem;\r\n  outline: 0.1rem solid ${colors.lightBrown};\r\n\r\n  ${CheckboxLabel}:hover & {\r\n    outline: 0.2rem solid ${colors.lightBrown};\r\n  }\r\n`\r\n\r\nexport const FilterCheckboxExcluded = styled(CheckboxExcluded)`\r\n  left: -2.5rem;\r\n`\r\n\r\nexport const FilterCheckboxIncluded = styled(CheckboxIncluded)`\r\n  left: -2.5rem;\r\n`\r\n","import React, { FunctionComponent } from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport { getSnapshot } from \"mobx-state-tree\"\r\nimport {\r\n  CheckboxLabel,\r\n  FilterCheckboxIndicator,\r\n  FilterCheckboxExcluded,\r\n  FilterCheckboxIncluded\r\n} from \"./filter-checkbox-styles\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\nimport { FilterModel } from \"../../../store/models/filterModel\"\r\n\r\ninterface IProps {\r\n  filter: FilterModel\r\n  isChecked: boolean\r\n  store?: typeof rootStore\r\n}\r\n\r\ninterface IState {\r\n  name: string\r\n  id: number\r\n}\r\n\r\nconst FilterCheckbox: FunctionComponent<IProps> = ({ filter, store }) => {\r\n\r\n  const stateOptions: IState[] = [\r\n    { id: 0, name: \"\" },\r\n    { id: 1, name: \"include\" },\r\n    { id: 2, name: \"exclude\" }\r\n  ]\r\n\r\n  const handleSwitchFilter = (name: string, type: string, id: number) => {\r\n    const currentState = checkState(name, type)\r\n    const newState = currentState + 1 > stateOptions.length - 1 ? 0 : currentState + 1\r\n    const filter = { name, type, state: newState, id }\r\n\r\n    if (newState === 0) {\r\n      store.articleStore.removeFilter(filter)\r\n      return\r\n    }\r\n\r\n    if (newState === 1) {\r\n      store.articleStore.insertFilter(filter)\r\n    }\r\n    if (newState === 2) {\r\n      store.articleStore.changeFilterState(filter)\r\n    }\r\n  }\r\n\r\n  const checkState = (name: string, type: string): number => {\r\n    const storeSnapshot = getSnapshot(store.articleStore.activeFilters)\r\n    return store.articleStore.getCurrentState(name, type)\r\n  }\r\n\r\n  const renderCheckbox = (state: string) => {\r\n    switch (state) {\r\n      case \"include\":\r\n        return <FilterCheckboxIncluded />\r\n      case \"exclude\":\r\n        return <FilterCheckboxExcluded />\r\n      default:\r\n        return <FilterCheckboxIndicator />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CheckboxLabel\r\n      onClick={() => handleSwitchFilter(filter.name, filter.type, filter.id)}\r\n      data-state={checkState(filter.name, filter.type)}\r\n    >\r\n      {filter.name}\r\n      <FilterCheckboxIndicator />\r\n      {renderCheckbox(stateOptions[checkState(filter.name, filter.type)].name)}\r\n    </CheckboxLabel>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(FilterCheckbox))\r\n","import React, { FunctionComponent, useState, useEffect, useRef } from \"react\"\r\nimport { observer, inject } from \"mobx-react\"\r\nimport { FilterTabContainer } from \"./filter-tab-styles\"\r\nimport { apiEndpoints } from \"../../../store/api/api\"\r\nimport FilterCheckbox from \"../filter-checkbox/filter-checkbox\"\r\nimport { ScrollIndicator } from \"../../shared/ScrollIndicator/scroll-indicator\"\r\nimport Loader from \"../../shared/Loader/loader\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\nimport { FilterModel } from \"../../../store/models/filterModel\"\r\n\r\ninterface IProps {\r\n  filterType: string\r\n  activeTab: string\r\n  checkboxSet: string[]\r\n  outsideClick: Function\r\n  store?: typeof rootStore\r\n}\r\n\r\ninterface IFilter {\r\n  name: string\r\n  id: number\r\n  type: string\r\n}\r\n\r\nconst FilterTab: FunctionComponent<IProps> = ({ filterType, activeTab }) => {\r\n  const [filterOptions, setFilterOptions] = useState<any>({})\r\n  const tabRef = useRef(null)\r\n\r\n  const chooseFiltersUrl = (type: string) => {\r\n    switch (type) {\r\n      case \"mainideas\":\r\n        return apiEndpoints.getMainIdeas\r\n      case \"professions\":\r\n        return apiEndpoints.getProfessions\r\n      default:\r\n        return apiEndpoints.getNationalities\r\n    }\r\n  }\r\n\r\n  const fetchFilters = async (type: string) => {\r\n    const fetchApi = await fetch(chooseFiltersUrl(type))\r\n    const results = await fetchApi.json()\r\n    const typeOptions = await results.map((filter: IFilter) => ({\r\n      name: filter.name,\r\n      id: filter.id,\r\n      type\r\n    }))\r\n    setFilterOptions({ ...filterOptions, [type]: typeOptions })\r\n  }\r\n\r\n  const checkIfActive = (filter: string): boolean => {\r\n    return activeTab === filter\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (checkIfActive(filterType)) fetchFilters(filterType)\r\n  }, [activeTab])\r\n\r\n  // useEffect(() => {\r\n  //   const handleOutsideClick = (ev: Event) => {\r\n  //     if (tabRef.current && !tabRef.current.contains(ev.target)) {\r\n  //       props.outsideClick()\r\n  //     }\r\n  //   }\r\n  //\r\n  //   if (checkIfActive(filterType)) document.addEventListener(\"mousedown\", handleOutsideClick)\r\n  //   return () => {\r\n  //     document.removeEventListener(\"mousedown\", handleOutsideClick)\r\n  //   }\r\n  // }, [tabRef, activeTab])\r\n\r\n  return (\r\n    <FilterTabContainer isActive={checkIfActive(filterType)} ref={tabRef}>\r\n      {filterOptions[filterType] &&\r\n        filterOptions[filterType].map((filter: FilterModel) => (\r\n          <FilterCheckbox filter={filter} isChecked={false} />\r\n        ))}\r\n      {!filterOptions[filterType] && <Loader />}\r\n      {tabRef.current && <ScrollIndicator container={tabRef.current} />}\r\n    </FilterTabContainer>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(FilterTab))\r\n","export interface ICheckbox {\r\n  name: string\r\n}\r\n\r\nconst currentSet = [\"Art\", \"Politics\", \"Sociology\", \"Teology\"]\r\n\r\nexport const getFiltersCheckboxSet = (type: string): string[] => {\r\n  switch(type) {\r\n    case \"current\":\r\n      return currentSet\r\n    default:\r\n      return currentSet\r\n  }\r\n\r\n}","import React, { FunctionComponent, ReactElement, useState } from \"react\"\r\nimport { FiltersContainer, SingleFilterBox } from \"./filters-styles\"\r\nimport FilterBox from \"./filter-box/filter-box\"\r\nimport FilterTab from \"./filterTab/filter-tab\"\r\nimport { getFiltersCheckboxSet } from \"./filter-box/filterCheckboxSet\"\r\n\r\nconst Filters: FunctionComponent = (): ReactElement => {\r\n  const [activeTab, setActiveTab] = useState<string>(\"\")\r\n  const filterTypes = [\"nationalities\", \"professions\", \"mainideas\"]\r\n\r\n  const switchFilterTab = (filter: string, outsideClick = false): void => {\r\n    if (outsideClick) {\r\n      setActiveTab(\"\")\r\n      return\r\n    }\r\n    filter === activeTab ? setActiveTab(\"\") : setActiveTab(filter)\r\n  }\r\n\r\n  const checkIfActive = (filter: string): boolean => {\r\n    return activeTab === filter\r\n  }\r\n\r\n  return (\r\n    <FiltersContainer marginBottom>\r\n      {filterTypes.map(filter => {\r\n        return (\r\n          <SingleFilterBox>\r\n            <FilterBox\r\n              filterType={filter}\r\n              clickHandler={() => switchFilterTab(filter)}\r\n              isActive={checkIfActive(filter)}\r\n            />\r\n            <FilterTab\r\n              filterType={filter}\r\n              activeTab={activeTab}\r\n              checkboxSet={getFiltersCheckboxSet(filter)}\r\n              outsideClick={() => switchFilterTab(activeTab, true)}\r\n            />\r\n          </SingleFilterBox>\r\n        )\r\n      })}\r\n    </FiltersContainer>\r\n  )\r\n}\r\n\r\nexport default Filters\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../../../styles/colors\"\r\n\r\nconst chooseColor = (state: number) => {\r\n  return state === 1 ? colors.lightGreen : colors.regularRed\r\n}\r\n\r\nexport const ActiveFiltersContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  grid-column: 1 / -1;\r\n  width: 100%;\r\n  padding-left: 5%;\r\n`\r\nexport const SingleFilter = styled.div<{\r\n  filterState: number\r\n}>`\r\n  display: flex;\r\n  margin-right: 0.5rem;\r\n  cursor: pointer;\r\n  font-size: 1.4rem;\r\n  font-weight: 700;\r\n  color: ${props => chooseColor(props.filterState)};\r\n`\r\n","import React, { FunctionComponent } from \"react\"\nimport {\n  CheckboxExcluded,\n  CheckboxIncluded,\n  CheckmarkContainer,\n  Checkbox\n} from \"./checkmark-styles\"\n\ninterface IProps {\n  mode: string\n  scale?: number\n}\n\nconst Checkmark: FunctionComponent<IProps> = props => {\n  const { mode, scale } = props\n  return (\n    <CheckmarkContainer>\n      <Checkbox />\n      {mode === \"on\" ? (\n        <CheckboxIncluded scale={scale} />\n      ) : (\n        <CheckboxExcluded scale={scale} />\n      )}\n    </CheckmarkContainer>\n  )\n}\n\nexport default Checkmark\n","import React, { FunctionComponent } from \"react\"\r\nimport { inject, observer } from \"mobx-react\"\r\nimport { ActiveFiltersContainer, SingleFilter } from \"./active-filters-styles\"\r\nimport { rootStore } from \"../../../store/RootStore\"\r\nimport { FilterModel } from \"../../../store/models/filterModel\"\r\nimport Checkmark from \"../../shared/Checkmark/checkmark\"\r\n\r\ninterface IProps {\r\n  store?: typeof rootStore\r\n}\r\n\r\nconst ActiveFilters: FunctionComponent<IProps> = ({ store }) => {\r\n  const { articleStore } = store\r\n\r\n  const removeFilter = (filter: FilterModel) => {\r\n    articleStore.removeFilter(filter)\r\n  }\r\n\r\n  return (\r\n    <ActiveFiltersContainer>\r\n      {articleStore.activeFilters.parameters.map((filter: FilterModel) => {\r\n        return (\r\n          <SingleFilter\r\n            onClick={() => removeFilter(filter)}\r\n            key={`${filter.name}-${filter.type}`}\r\n            filterState={filter.state}\r\n          >\r\n            <Checkmark mode={filter.state === 1 ? \"on\" : \"off\"} scale={0.6} />\r\n            <p>{filter.name.toLowerCase()}</p>\r\n          </SingleFilter>\r\n        )\r\n      })}\r\n    </ActiveFiltersContainer>\r\n  )\r\n}\r\n\r\nexport default inject(\"store\")(observer(ActiveFilters))\r\n","import styled from \"styled-components\"\r\nimport { colors } from \"../styles/colors\"\r\n\r\nexport const MainContainer = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n`\r\nexport const MainContainerLeft = styled.div`\r\n  display: grid;\r\n  grid-template-rows: 12rem 1fr 12rem;\r\n  padding-left: 2rem;\r\n  width: 65%;\r\n  height: 100%;\r\n  position: relative;\r\n`\r\n\r\nexport const MainContainerTopMenu = styled.div`\r\n  width: 100%;\r\n  z-index: 6;\r\n  padding: 0.5rem 0 0 5%;\r\n`\r\n\r\nexport const MainContainerLeftGradient = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  height: 100%;\r\n  background-image: linear-gradient(\r\n    135deg,\r\n    ${colors.green} 8.33%,\r\n    rgb(0, 57, 63) 8.33%,\r\n    rgb(0, 57, 63) 50%,\r\n    ${colors.green} 50%,\r\n    ${colors.green} 58.33%,\r\n    rgb(0, 57, 63) 58.33%,\r\n    rgb(0, 57, 63) 100%\r\n  );\r\n  background-size: 16.97px 16.97px;\r\n  width: 6rem;\r\n  -webkit-box-shadow: inset -60px 0px 40px 0px rgba(0, 56, 61, 0.8);\r\n  -moz-box-shadow: inset -60px 0px 40px 0px rgba(0, 56, 61, 0.8);\r\n  box-shadow: inset -60px 0px 50px 5px rgba(0, 56, 61, 0.95);\r\n`\r\n\r\nexport const MainContainerContent = styled.div`\r\n  grid-template-columns: 1fr 95%;\r\n  display: grid;\r\n  padding: 0 1rem 1rem 0;\r\n  border-top: 0.1rem solid ${colors.green};\r\n  border-left: 0.1rem solid ${colors.green};\r\n  grid-template-rows: 2.5rem 1fr;\r\n  width: 100%;\r\n  z-index: 5;\r\n`\r\n\r\nexport const MainContainerMenu = styled.div`\r\n  height: 100%;\r\n  position: relative;\r\n`\r\n\r\nexport const MainContainerBox = styled.div`\r\n  height: 100%;\r\n  border-left: 0.1rem solid ${colors.green};\r\n  position: relative;\r\n`\r\n\r\nexport const MainContainerInnerContent = styled.div`\r\n  -webkit-box-shadow: 0px 0px 40px 0px rgba(0, 57, 63, 0.8);\r\n  -moz-box-shadow: 0px 0px 40px 0px rgba(0, 57, 63, 0.8);\r\n  box-shadow: 0px 0px 40px 0px rgba(0, 57, 63, 0.8);\r\n`\r\n\r\nexport const MainContainerRight = styled.div`\r\n  flex: 1;\r\n  background-image: linear-gradient(\r\n    135deg,\r\n    ${colors.green} 8.33%,\r\n    rgb(0, 57, 63) 8.33%,\r\n    rgb(0, 57, 63) 50%,\r\n    #007260 50%,\r\n    #007260 58.33%,\r\n    rgb(0, 57, 63) 58.33%,\r\n    rgb(0, 57, 63) 100%\r\n  );\r\n  background-size: 10.97px 10.97px;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding-right: 4rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nexport const MainContainerRightBox = styled.div`\r\n  flex-basis: 75%;\r\n  border: 0.1rem solid ${colors.green};\r\n  max-height: 75%;\r\n  margin-top: 12rem;\r\n`\r\n","import React, { useState } from \"react\"\nimport { observer, inject } from \"mobx-react\"\nimport { getSnapshot } from \"mobx-state-tree\"\nimport { FiltersContainer, SingleFilterBox } from \"./filters-styles\"\nimport FilterBox from \"./filter-box/filter-box\"\nimport { rootStore } from \"../../store/RootStore\"\n\ninterface Props {\n  store?: typeof rootStore\n}\n\nconst FiltersBottom: React.FC<Props> = props => {\n  const [activeTabs, setActiveTabs] = useState<string[]>([])\n  const filterTypes = [\"person\", \"writing\", \"event\", \"organisation\"]\n\n  const switchFilterTab = (filter: string): void => {\n    if (activeTabs.includes(filter)) {\n      const newTabs = activeTabs.filter(el => el !== filter)\n      const filtersToRemove = activeTabs.filter(el => el === filter)\n      setActiveTabs(newTabs)\n      filtersToRemove.forEach(filter => props.store.articleStore.removeFilter({ name: filter, type: \"type\", state: 2, id: 0 }))\n      return\n    }\n    props.store.articleStore.insertFilter({ name: filter, type: \"type\", state: 2, id: 0 })\n    setActiveTabs(activeTabs.concat(filter))\n  }\n\n  const checkState = (name: string, type: string): number => {\n    const storeSnapshot = getSnapshot(props.store.articleStore.activeFilters)\n    return props.store.articleStore.getCurrentState(name, type)\n  }\n\n  return (\n    <FiltersContainer>\n      {filterTypes.map(filter => {\n        return (\n          <SingleFilterBox>\n            <FilterBox\n              filterType={filter}\n              clickHandler={() => switchFilterTab(filter)}\n              isActive={checkState(filter, \"type\") === 2}\n              noCross\n            />\n          </SingleFilterBox>\n        )\n      })}\n    </FiltersContainer>\n  )\n}\n\nexport default inject(\"store\")(observer(FiltersBottom))\n","import React from \"react\"\r\nimport \"./App.css\"\r\nimport { Route } from \"react-router-dom\"\r\nimport Routes from \"../routing/Routes\"\r\nimport Navbar from \"../components/Navbar/navbar\"\r\nimport DetailPanel from \"../components/DetailPanel\"\r\nimport Timeline from \"../components/Timeline\"\r\nimport UserBookmarks from \"../components/UserBookmarks\"\r\nimport Filters from \"../components/Filters/filters\"\r\nimport ActiveFilters from \"../components/Filters/active-filters/active-filters\"\r\nimport {\r\n  MainContainer,\r\n  MainContainerLeft,\r\n  MainContainerTopMenu,\r\n  MainContainerLeftGradient,\r\n  MainContainerContent,\r\n  MainContainerMenu,\r\n  MainContainerInnerContent,\r\n  MainContainerRight,\r\n  MainContainerRightBox\r\n} from \"./app-styles\"\r\nimport FiltersBottom from \"../components/Filters/filters-bottom\"\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n    <MainContainer>\r\n      <MainContainerLeft>\r\n        <MainContainerTopMenu>\r\n          <Navbar />\r\n        </MainContainerTopMenu>\r\n        <MainContainerLeftGradient />\r\n        <MainContainerContent>\r\n          <ActiveFilters />\r\n          <MainContainerMenu>\r\n            <Filters />\r\n            <FiltersBottom />\r\n          </MainContainerMenu>\r\n          <MainContainerInnerContent>\r\n            <Routes />\r\n          </MainContainerInnerContent>\r\n        </MainContainerContent>\r\n        <Route exact path=\"/\">\r\n          <Timeline />\r\n        </Route>\r\n      </MainContainerLeft>\r\n\r\n      <MainContainerRight>\r\n        <MainContainerRightBox>\r\n          <DetailPanel />\r\n          <UserBookmarks />\r\n        </MainContainerRightBox>\r\n      </MainContainerRight>\r\n    </MainContainer>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport \"./styles/base.css\"\r\nimport { BrowserRouter } from \"react-router-dom\"\r\nimport { Provider } from \"mobx-react\"\r\nimport App from \"./views/App\"\r\nimport * as serviceWorker from \"./serviceWorker\"\r\nimport { rootStore } from \"./store/RootStore\"\r\n\r\nReactDOM.render(\r\n  <Provider store={rootStore}>\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}